local Workspace = game:GetService("Workspace")
local CoreGui = game.CoreGui
local TweenService = game:GetService("TweenService")
local Debris = game:GetService("Debris")

local function ShowNotify(message)
	local SpaceHubGui = CoreGui:FindFirstChild("SpaceHubGui")
	if not SpaceHubGui then
		local SpaceHubGui = Instance.new("ScreenGui")
		SpaceHubGui.Parent = CoreGui
		SpaceHubGui.Name = "SpaceHubGui"
	end

	local NotifyFolder = SpaceHubGui:FindFirstChild("NotifyFolder")
	if not NotifyFolder then
		local NotifyFolder = Instance.new("Folder")
		NotifyFolder.Name = "NotifyFolder"
		NotifyFolder.Parent = SpaceHubGui
	end

	local Notify = Instance.new("Frame")
	local NotiUICorner = Instance.new("UICorner")
	local NotiText = Instance.new("TextLabel")
	local NotiStroke = Instance.new("UIStroke")
	local NotiSound = Instance.new("Sound")

	Notify.Name = "NotifyClone"
	Notify.AnchorPoint = Vector2.new(0.5,0.8)
	Notify.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Notify.BackgroundTransparency = 0.65
	Notify.BorderSizePixel = 0
	Notify.Position = UDim2.new(0.5,0,1.2,0)
	Notify.Size = UDim2.new(0.8,0,0.15,0)
	Notify.Parent = NotifyFolder

	NotiUICorner.CornerRadius = UDim.new(0,10)
	NotiUICorner.Parent = Notify

	NotiStroke.Color = Color3.fromRGB(198, 0, 0)
	NotiStroke.Thickness = 0.03
	NotiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	NotiStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
	NotiStroke.Parent = Notify

	NotiText.AnchorPoint = Vector2.new(0.5,0.5)
	NotiText.BackgroundTransparency = 1
	NotiText.Position = UDim2.new(0.5,0,0.5,0)
	NotiText.Size = UDim2.new(0.95,0,0.8,0)
	NotiText.Font = Enum.Font.Fantasy
	NotiText.Text = message
	NotiText.TextColor3 = Color3.fromRGB(229, 0, 0)
	NotiText.TextScaled = true
	NotiText.TextWrapped = true
	NotiText.Parent = Notify

	NotiSound.SoundId = "rbxassetid://122521410562449"
	NotiSound.Volume = 1
	NotiSound.Parent = Notify
	NotiSound:Play()

	local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
	local goal = {Position = UDim2.new(0.5,0,0.8,0)}
	local tween = TweenService:Create(Notify, tweenInfo, goal)
	tween:Play()

	Debris:AddItem(Notify, 4)
end

local allowedPlaceIds = {
	15027718878,
}
if not table.find(allowedPlaceIds, game.PlaceId) then
	warn("This script is not allowed in this place.")
	ShowNotify("This script is not allowed in this place!")
	return
end

if CoreGui:FindFirstChild("SpaceHubGui") then
	ShowNotify("The Script is already executed!")
	return
end

local SpaceHubGui = Instance.new("ScreenGui")
SpaceHubGui.Parent = CoreGui
SpaceHubGui.Name = "SpaceHubGui"

local NotifyFolder = Instance.new("Folder")
NotifyFolder.Name = "NotifyFolder"
NotifyFolder.Parent = SpaceHubGui

local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

ShowNotify("Thanks For Using My Script, v0.28")

local Window = Rayfield:CreateWindow({
	Name = "üöÄ[Winter] The Space Simulator - Space Hub ü™ê",
	Icon = 17104625041,
	LoadingTitle = "Space Hub v0.28 or v" .. game.PlaceVersion,
	LoadingSubtitle = "by Dev_Smiley",
	ShowText = "Space Hub ü™ê",
	Theme = "Bloom",

	ToggleUIKeybind = "K",

	DisableRayfieldPrompts = false,
	DisableBuildWarnings = false,

	ConfigurationSaving = {
		Enabled = true,
		FolderName = nil, -- Create a custom folder for your hub/game
		FileName = "SpaceHub"
	},

	Discord = {
		Enabled = false, -- Prompt the user to join your Discord server if their executor supports it
		Invite = "noinvitelink", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
		RememberJoins = true -- Set this to false to make them join the discord every time they load it up
	},

	KeySystem = false, -- Set this to true to use our key system
	KeySettings = {
		Title = "Untitled",
		Subtitle = "Key System",
		Note = "No method of obtaining the key is provided", -- Use this to tell the user how to get a key
		FileName = "Key", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
		SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
		GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
		Key = {"Hello"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
	}
})

local ShipTab = Window:CreateTab("Ship & Asteroids", 4483362458) -- Title, Image
local MSettingsTab = Window:CreateTab("Mine & Inventory", 4483362458) -- Title, Image
local PlayerTab = Window:CreateTab("LocalPlayer", 4483362458) -- Title, Image

local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")

--Local Player Functions

local Slider = PlayerTab:CreateSlider({
	Name = "Walkspeed",
	Range = {10, 100},
	Increment = 1,
	Suffix = "Speed",
	CurrentValue = 10,
	Flag = "Slider1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").WalkSpeed = Value
	end,
})

local Slider = PlayerTab:CreateSlider({
	Name = "JetPack Speed",
	Range = {5, 100},
	Increment = 1,
	Suffix = "Max Jetpack Speed",
	CurrentValue = 5,
	Flag = "Slider2", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer:SetAttribute("jetpackSpeed", Value)
	end,
})

local Slider = PlayerTab:CreateSlider({
	Name = "Jump Power",
	Range = {50, 400},
	Increment = 1,
	Suffix = "Current Jump Power",
	CurrentValue = 50,
	Flag = "Slider3", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").JumpPower = Value
	end,
})

local Slider = PlayerTab:CreateSlider({
	Name = "Hip Height",
	Range = {0, 100},
	Increment = 1,
	Suffix = "Current Hip Height",
	CurrentValue = 0,
	Flag = "Slider4", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").HipHeight = Value
	end,
})

--Toggle Buttons For Boolens
local Button = PlayerTab:CreateButton({
	Name = "Sit Player",
	Callback = function()
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Sit = true-- The function that takes place when the button is pressed
	end,
})

local Button = PlayerTab:CreateButton({
	Name = "Reset",
	Callback = function()
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Health = 0-- The function that takes place when the button is pressed
	end,
})

-------------------------------------------------------------------------------------------------------------------------------------------------------------

local SpaceHubValuesContainer = loadstring(game:HttpGet("https://raw.githubusercontent.com/devsmiley245/The-Space-Simulator-Script/refs/heads/main/SpaceHub%20Values%20Container"))();

local SpaceHubValuesFolder = game.CoreGui:WaitForChild("SpaceHub Values Container")

local OneHitMineValue = SpaceHubValuesFolder:WaitForChild("OneHitResources")
local AlwaysEquipPickaxeValue = SpaceHubValuesFolder:WaitForChild("AlwaysEquipPickaxe")
local AlwaysEquipParachuteValue = SpaceHubValuesFolder:WaitForChild("AlwaysEquipParachute")
local OldInventoryValue = SpaceHubValuesFolder:WaitForChild("OldInventory")

---------------------------------------------------------------------------------------

local Label = MSettingsTab:CreateLabel("Updated in v0.24", 4483362458, Color3.fromRGB(255, 205, 220), false)

local Toggle = MSettingsTab:CreateToggle({
	Name = "1 Hit Mine All Resources And Orbs",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		OneHitMineValue.Value = Value
	end
})

local Toggle2 = MSettingsTab:CreateToggle({
	Name = "Always Equip Pickaxe",
	CurrentValue = false,
	Flag = "Toggle2",
	Callback = function(Value)
		AlwaysEquipPickaxeValue.Value = Value
	end
})

local Toggle3 = MSettingsTab:CreateToggle({
	Name = "Always Equip Parachute",
	CurrentValue = false,
	Flag = "Toggle3",
	Callback = function(Value)
		AlwaysEquipParachuteValue.Value = Value
	end
})

local Toggle4 = MSettingsTab:CreateToggle({
	Name = "Old Inventory",
	CurrentValue = false,
	Flag = "Toggle4",
	Callback = function(Value)
		OldInventoryValue.Value = Value
	end
})

-------------------------------------------------------------------------------------------------------------------------------------------------------------

local Button = PlayerTab:CreateButton({
	Name = "Rejoin",
	Callback = function()
		ShowNotify("Rejoining The Current Server . . .")
		local player = game.Players.LocalPlayer
		local placeId = game.PlaceId
		TeleportService:Teleport(placeId, player)
	end,
})

local autorotateButton
local AutoRotate = false

autorotateButton = PlayerTab:CreateButton({
	Name = "Auto Rotate: True",
	Callback = function()
		local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if not humanoid then
			warn("Humanoid Not Found")
			return
		end

		AutoRotate = not AutoRotate
		if AutoRotate then
			autorotateButton:Set("Auto Rotate: True")
			humanoid.AutoRotate = true
		else
			autorotateButton:Set("Auto Rotate: False")
			humanoid.AutoRotate = false
		end
	end,
})

--Ship Functions

local Label = ShipTab:CreateLabel("For Change Speed You Must Sitting In Ship", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme


local SpaceHubESPContainer = loadstring(game:HttpGet("https://raw.githubusercontent.com/devsmiley245/The-Space-Simulator-Script/refs/heads/main/SpaceHubESPContainer"))();

local SpaceHubESPFolder = CoreGui:WaitForChild("SpaceHubESPFolder")
if not SpaceHubESPFolder then
	ShowNotify("SpaceHubESPFolder not found!")
else
	ShowNotify("Folder found, ESP Container Loaded!")
end

local ShipMovements = SpaceHubESPFolder:WaitForChild("ShipMovements")
local ShipHighLightValue = SpaceHubValuesFolder:WaitForChild("ShipHighLight")
local ShipNoClip_Value2 = SpaceHubValuesFolder:WaitForChild("ShipNoClip")
local BACValue = SpaceHubValuesFolder:WaitForChild("BypassAC")

local Toggle = ShipTab:CreateToggle({
	Name = "Ship Function Modifier Menu",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		ShipMovements.Enabled = Value
	end
})

local Toggle = ShipTab:CreateToggle({
	Name = "Ship No Clip",
	CurrentValue = false,
	Flag = "Toggle2",
	Callback = function(Value)
		ShipNoClip_Value2.Value = Value
	end
})

local Toggle = ShipTab:CreateToggle({
	Name = "No Hit & Alien Durability Damage",
	CurrentValue = false,
	Flag = "Toggle3",
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local character = player.Character
		if not character then
			ShowNotify("Character not loaded!")
			return
		end

		local humanoid = character:FindFirstChildOfClass("Humanoid")
		if not humanoid or not humanoid.SeatPart then
			ShowNotify("You need to sit on a ship to apply setting!")
			return
		end

		local shipModel = humanoid.SeatPart:FindFirstAncestorOfClass("Model")
		if not shipModel then
			ShowNotify("Ship model not found!")
			return
		end

		local boundingBox = shipModel:FindFirstChild("BoundingBox")
		if not boundingBox or not boundingBox:IsA("BasePart") then
			ShowNotify("BoundingBox not found!")
			return
		end

		boundingBox.CanQuery = not Value
		boundingBox.CanTouch = not Value
	end
})

local Label = ShipTab:CreateLabel("Ship Apperances", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local HIGHLIGHT_NAME = "Ship Highlight"

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local HIGHLIGHT_NAME = "SpaceHub Ship Highlight"

local function getShipModel()
	local char = LocalPlayer.Character
	if not char then return nil end

	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if not humanoid then return nil end

	local seat = humanoid.SeatPart
	if not seat then return nil end
	if seat:GetAttribute("rocket") ~= true then return nil end

	return seat.Parent
end

local function addHighlight(ship)
	if not ship then return end
	if ship:FindFirstChild(HIGHLIGHT_NAME) then return end

	local highlight = Instance.new("Highlight")
	highlight.Name = HIGHLIGHT_NAME
	highlight.FillTransparency = 0.6
	highlight.OutlineTransparency = 0
	highlight.Adornee = ship
	highlight.Parent = ship
	highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
end

local function removeAllHighlights()
	local char = LocalPlayer.Character
	if not char then return end

	for _, v in ipairs(workspace:GetDescendants()) do
		if v:IsA("Highlight") and v.Name == HIGHLIGHT_NAME then
			v:Destroy()
		end
	end
end

local Toggle = ShipTab:CreateToggle({
	Name = "Ship Highlight",
	CurrentValue = false,
	Flag = "Toggle4",
	Callback = function(Value)
		local ship = getShipModel()

		if Value and ship then
			addHighlight(ship)
			ShowNotify("Added Ship Highlight")
			ShipHighLightValue.Value = true
		else
			removeAllHighlights()
			ShowNotify("Removed Ship Highlight")
			ShipHighLightValue.Value = false
		end
	end
})

local ColorPicker = ShipTab:CreateColorPicker({
	Name = "Highlight Color",
	Color = Color3.fromRGB(255,255,255),
	Flag = "ColorPicker1",
	Callback = function(Value)
		local hl = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").SeatPart.Parent:FindFirstChildOfClass("Highlight")
		if not hl then
			ShowNotify("No Highlight Found")
		else
			hl.OutlineColor = Value
		end
	end
})

local Label = ShipTab:CreateLabel("Energy Balls", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local Button = ShipTab:CreateButton({
	Name = "Open Fire Mode",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("fireMode", true) -- The function that takes place when the button is pressed
		ShowNotify("Fire Mode On")
	end,
})

local Button = ShipTab:CreateButton({
	Name = "Close Fire Mode",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("fireMode", false) -- The function that takes place when the button is pressed
		ShowNotify("Fire Mode Off")
	end,
})

local Toggle = ShipTab:CreateToggle({
	Name = "Infinite Energy Balls",
	CurrentValue = false,
	Flag = "Toggle5",
	Callback = function(Value)

		if Value then
			game.ReplicatedStorage.ShellModels.EnergyBall.Config:SetAttribute("energy", 1)
			ShowNotify("Infinite Energy Balls On")
		else
			game.ReplicatedStorage.ShellModels.EnergyBall.Config:SetAttribute("energy", 25)
			ShowNotify("Infinite Energy Balls Off")
		end
	end
})

local Slider = ShipTab:CreateSlider({
	Name = "Energy Ball Speed",
	Range = {50, 500},
	Increment = 1,
	Suffix = "Max Shoot Speed",
	CurrentValue = 150,
	Flag = "Slider1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.ReplicatedStorage.ShellModels.EnergyBall.Config:SetAttribute("speed", Value)

	end,
})

local ColorPicker = ShipTab:CreateColorPicker({
	Name = "Energy Ball Color",
	Color = Color3.fromRGB(255, 255, 255),
	Flag = "ColorPicker2",
	Callback = function(Value)
		local character = game.Players.LocalPlayer.Character
		if not character then
			ShowNotify("Character not loaded!")
			return
		end

		local humanoid = character:FindFirstChildOfClass("Humanoid")
		if not humanoid or not humanoid.SeatPart then
			ShowNotify("You need to sit on a ship to change the energy ball color!")
			return
		end

		local seatModel = humanoid.SeatPart:FindFirstAncestorOfClass("Model")
		if not seatModel then
			ShowNotify("Ship model not found!")
			return
		end

		local brickColor = BrickColor.new(Value)

		seatModel:SetAttribute("fireColor", brickColor)
	end
})


local Label = ShipTab:CreateLabel("Asteroids & Rocks", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local Toggle = ShipTab:CreateToggle({
	Name = "Breakable All Floating Rocks",
	CurrentValue = false,
	Flag = "Toggle6",
	Callback = function(Value)
		local rocksFolder = workspace:FindFirstChild("Rocks")
		if not rocksFolder then 
			ShowNotify("You need to go space first before applying this setting!")
			return
		end

		for _, rock in ipairs(rocksFolder:GetChildren()) do
			if rock:IsA("Model") or rock:IsA("BasePart") then

				if Value then
					if rock:GetAttribute("breakable") == nil then
						rock:SetAttribute("breakable", true)
						rock:SetAttribute("BreakableAddedByToggle", true)
					end

				else
					if rock:GetAttribute("BreakableAddedByToggle") == true then
						rock:SetAttribute("breakable", false)
						rock:SetAttribute("BreakableAddedByToggle", false)
					end
				end

			end
		end
	end
})

-------------------------------------------------------------

local CSettingsTab = Window:CreateTab("Client", 4483362458) -- Title, Image

--Client Settings Functions

local SButton = CSettingsTab:CreateButton({
	Name = "Unlock Instant Speed Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("InstantSpeedGP", true)-- The function that takes place when the button is pressed
	end,
})

local BButton = CSettingsTab:CreateButton({
	Name = "Unlock Instant Brake Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("InstantBrakeGP", true)-- The function that takes place when the button is pressed
	end,
})

local MButton = CSettingsTab:CreateButton({
	Name = "Unlock Music Player Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("MusicPlayerGP", true)-- The function that takes place when the button is pressed
	end,
})

local SHButton = CSettingsTab:CreateButton({
	Name = "Unlock Ship Lock Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("ShipLockGP", true)-- The function that takes place when the button is pressed
	end,
})

local INGPButton = CSettingsTab:CreateButton({
	Name = "Enable InGroup (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("inGroup", true)-- The function that takes place when the button is pressed
	end,
})

local VButton = CSettingsTab:CreateButton({
	Name = "Unlock Vortex Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("VortexGP", true)-- The function that takes place when the button is pressed
	end,
})

local QButton = CSettingsTab:CreateButton({
	Name = "Unlock Quantum Drill Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("QuantumDrillGP", true)-- The function that takes place when the button is pressed
	end,
})

local VIPButton = CSettingsTab:CreateButton({
	Name = "Unlock VIP Chat Icon (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("vip", true)-- The function that takes place when the button is pressed
	end,
})

local HButton = CSettingsTab:CreateButton({
	Name = "Unlock Horn Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("HornGP", true)-- The function that takes place when the button is pressed
	end,
})

local DButton = CSettingsTab:CreateButton({
	Name = "Unlock Double Xp Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("DoubleXpGP", true)-- The function that takes place when the button is pressed
	end,
})

local LButton = CSettingsTab:CreateButton({
	Name = "Unlock Large Backpack Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("LargeBackpackGP", true)
	end,
})

local METButton = CSettingsTab:CreateButton({
	Name = "Unlock Meteor Pickaxe Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("MeteorPickaxeGP", true)
	end,
})

local REButton = CSettingsTab:CreateButton({
	Name = "Unlock Restore Position Gamepass ( Client Side )",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("RestorePositionGP", true)
	end,
})

--Other Functions

local OtherTab = Window:CreateTab("Others", 4483362458) -- Title, Image

local function firePrompt(prompt)
	if typeof(prompt) == "Instance" and prompt:IsA("ProximityPrompt") then
		-- fireproximityprompt is a global function in Roblox
		fireproximityprompt(prompt)
	else
		warn("Provided object is not a ProximityPrompt!")
	end
end

local OpenHubbleTelescopeButton = OtherTab:CreateButton({
	Name = "Open Hubble Telescope",
	Callback = function()
		local prompt = workspace:WaitForChild("Planetoids"):WaitForChild("Hubble"):WaitForChild("ControlPanel"):FindFirstChildOfClass("ProximityPrompt")
		if prompt then
			firePrompt(prompt)
		end
	end,
})

local BACToggle = OtherTab:CreateToggle({
	Name = "Bypass Anti-Cheat",
	CurrentValue = false,
	Flag = "BACToggle",
	Callback = function(Value)
		local remote = game.ReplicatedStorage:WaitForChild("Events"):WaitForChild("PlayerStatusEvent")

		BACValue.Value = Value
		_G.BlockPlayerStatusEvent = Value

		local old
		old = hookmetamethod(game, "__namecall", function(self, ...)
			local method = getnamecallmethod()

			if _G.BlockPlayerStatusEvent
				and self == remote
				and method == "FireServer" then
				return nil
			end

			return old(self, ...)
		end)

	end
})

local PlanetTeleportDropdown = OtherTab:CreateDropdown({
	Name = "Teleport To Planets",
	Options = {"Mercury", "Venus", "Earth", "Mars"},
	CurrentOption = {"Earth"},
	MultipleOptions = false,
	Flag = "PlanetTeleportDropdown",
	Callback = function(Options)
		local choice = Options[1]

		if BACValue.Value == false then
			ShowNotify("You need to enable Bypass Anti-Cheat before using this teleport!")
		end

		if choice == "Mercury" then

			if BACValue.Value == false then
				ShowNotify("You need to enable Bypass Anti-Cheat before teleport!") return
			end
			game.Players.LocalPlayer.Character:PivotTo(CFrame.new(workspace.Planets.Mercury:GetPivot().Position + (Vector3.new(math.random(-250,250),0,math.random(-250,250)))))


		elseif choice == "Venus" then

			if BACValue.Value == false then
				ShowNotify("You need to enable Bypass Anti-Cheat before teleport!") return
			end
			game.Players.LocalPlayer.Character:PivotTo(CFrame.new(workspace.Planets.Venus:GetPivot().Position + (Vector3.new(math.random(-250,250),0,math.random(-250,250)))))

		elseif choice == "Earth" then

			if BACValue.Value == false then
				ShowNotify("You need to enable Bypass Anti-Cheat before teleport!") return
			end
			game.Players.LocalPlayer.Character:PivotTo(CFrame.new(workspace.Planets.Earth:GetPivot().Position + (Vector3.new(math.random(-250,250),0,math.random(-250,250)))))

		elseif choice == "Mars" then

			if BACValue.Value == false then
				ShowNotify("You need to enable Bypass Anti-Cheat before teleport!") return
			end
			game.Players.LocalPlayer.Character:PivotTo(CFrame.new(workspace.Planets.Mars:GetPivot().Position + (Vector3.new(math.random(-250,250),0,math.random(-250,250)))))

		end
	end,
})

local RocketLineGui = SpaceHubESPFolder:WaitForChild("RocketLines")
local RocketBoxGui = SpaceHubESPFolder:WaitForChild("RocketBoxes")
local RocketNameGui = SpaceHubESPFolder:WaitForChild("RocketNames")

local UFOBoxGui = SpaceHubESPFolder:WaitForChild("UFOBoxes")
local UFOLineGui = SpaceHubESPFolder:WaitForChild("UFOLines")
local UFONameGui = SpaceHubESPFolder:WaitForChild("UFONames")

local CentaurLineGui = SpaceHubESPFolder:WaitForChild("CentaurLines")
local CentaurBoxGui = SpaceHubESPFolder:WaitForChild("CentaurBoxes")
local CentaurNameGui = SpaceHubESPFolder:WaitForChild("CentaurNames")

local OrbLineGui = SpaceHubESPFolder:WaitForChild("OrbLines")
local OrbBoxGui = SpaceHubESPFolder:WaitForChild("OrbBoxes")
local OrbNameGui = SpaceHubESPFolder:WaitForChild("OrbNames")

local ArtifactLineGui = SpaceHubESPFolder:WaitForChild("ArtifactLines")
local ArtifactBoxGui = SpaceHubESPFolder:WaitForChild("ArtifactBoxes")
local ArtifactNameGui = SpaceHubESPFolder:WaitForChild("ArtifactNames")

local ResourceLineGui = SpaceHubESPFolder:WaitForChild("ResourceLines")
local ResourceBoxGui = SpaceHubESPFolder:WaitForChild("ResourceBoxes")
local ResourceNameGui = SpaceHubESPFolder:WaitForChild("ResourceNames")

local PlanetXVoyagerLines = SpaceHubESPFolder:WaitForChild("PlanetXVoyagerLines")
local PlanetXVoyagerBoxes = SpaceHubESPFolder:WaitForChild("PlanetXVoyagerBoxes")
local PlanetXVoyagerNames = SpaceHubESPFolder:WaitForChild("PlanetXVoyagerNames")

--------------------

local ESPTab = Window:CreateTab("ESP", 4483362458) -- Title, Image

local Toggle1 = ESPTab:CreateToggle({
	Name = "Rockets ESP Lines",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		RocketLineGui.Enabled = Value
	end
})

local Toggle2 = ESPTab:CreateToggle({
	Name = "Rockets ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle2",
	Callback = function(Value)
		RocketBoxGui.Enabled = Value
	end
})

local Toggle3 = ESPTab:CreateToggle({
	Name = "Rockets ESP Informations",
	CurrentValue = false,
	Flag = "Toggle3",
	Callback = function(Value)
		RocketNameGui.Enabled = Value
	end
})

------------------------------------------------------

local Toggle4 = ESPTab:CreateToggle({
	Name = "UFO ESP Lines",
	CurrentValue = false,
	Flag = "Toggle4",
	Callback = function(Value)
		UFOLineGui.Enabled = Value
	end
})

local Toggle5 = ESPTab:CreateToggle({
	Name = "UFO ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle5",
	Callback = function(Value)
		UFOBoxGui.Enabled = Value
	end
})

local Toggle6 = ESPTab:CreateToggle({
	Name = "UFO ESP Infomations",
	CurrentValue = false,
	Flag = "Toggle6",
	Callback = function(Value)
		UFONameGui.Enabled = Value
	end
})

-----------------------------------------------------

local Toggle7 = ESPTab:CreateToggle({
	Name = "Centaurs ESP Lines",
	CurrentValue = false,
	Flag = "Toggle7",
	Callback = function(Value)
		CentaurLineGui.Enabled = Value
	end
})

local Toggle8 = ESPTab:CreateToggle({
	Name = "Centaurs ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle8",
	Callback = function(Value)
		CentaurBoxGui.Enabled = Value
	end
})

local Toggle9 = ESPTab:CreateToggle({
	Name = "Centaurs ESP Informations",
	CurrentValue = false,
	Flag = "Toggle9",
	Callback = function(Value)
		CentaurNameGui.Enabled = Value
	end
})

-----------------------------------------------------

local Toggle10 = ESPTab:CreateToggle({
	Name = "Orb ESP Lines",
	CurrentValue = false,
	Flag = "Toggle10",
	Callback = function(Value)
		OrbLineGui.Enabled = Value
	end
})

local Toggle11 = ESPTab:CreateToggle({
	Name = "Orb ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle11",
	Callback = function(Value)
		OrbBoxGui.Enabled = Value
	end
})

local Toggle12 = ESPTab:CreateToggle({
	Name = "Orb ESP Informations",
	CurrentValue = false,
	Flag = "Toggle12",
	Callback = function(Value)
		OrbNameGui.Enabled = Value
	end
})

-------------------------------------------------------------------

local Toggle13 = ESPTab:CreateToggle({
	Name = "Artifacts ESP Lines",
	CurrentValue = false,
	Flag = "Toggle13",
	Callback = function(Value)
		ArtifactLineGui.Enabled = Value
	end
})

local Toggle14 = ESPTab:CreateToggle({
	Name = "Artifacts ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle14",
	Callback = function(Value)
		ArtifactBoxGui.Enabled = Value
	end
})

local Toggle15 = ESPTab:CreateToggle({
	Name = "Artifacts ESP Informations",
	CurrentValue = false,
	Flag = "Toggle15",
	Callback = function(Value)
		ArtifactNameGui.Enabled = Value
	end
})

-----------------------------------------------------------------------------------

local Toggle16 = ESPTab:CreateToggle({
	Name = "Resources ESP Lines",
	CurrentValue = false,
	Flag = "Toggle16",
	Callback = function(Value)
		ResourceLineGui.Enabled = Value
	end
})

local Toggle17 = ESPTab:CreateToggle({
	Name = "Resources ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle17",
	Callback = function(Value)
		ResourceBoxGui.Enabled = Value  -- ‚úî Correct GUI
	end
})

local Toggle18 = ESPTab:CreateToggle({
	Name = "Resources ESP Informations",
	CurrentValue = false,
	Flag = "Toggle18",
	Callback = function(Value)
		ResourceNameGui.Enabled = Value
	end
})

---------------------------------------------------------------------------------------------

local VoyagerPlanetXESPLinesToggle = ESPTab:CreateToggle({
	Name = "Voyager + Planet-X ESP Lines",
	CurrentValue = false,
	Flag = "VoyagerPlanetXESPLinesToggle",
	Callback = function(Value)
		PlanetXVoyagerLines.Enabled = Value
	end
})

local VoyagerPlanetXESPBoxesToggle = ESPTab:CreateToggle({
	Name = "Voyager + Planet-X ESP Boxes",
	CurrentValue = false,
	Flag = "VoyagerPlanetXESPBoxesToggle",
	Callback = function(Value)
		PlanetXVoyagerBoxes.Enabled = Value  -- ‚úî Correct GUI
	end
})

local VoyagerPlanetXESPInformationsToggle = ESPTab:CreateToggle({
	Name = "Voyager + Planet-X ESP Informations",
	CurrentValue = false,
	Flag = "VoyagerPlanetXESPInformationsToggle",
	Callback = function(Value)
		PlanetXVoyagerNames.Enabled = Value
	end
})

-------------------------------------------------------------------------------------------------------------------------------------------------------------

--Other Teleports

local OtherTpTab = Window:CreateTab("Teleport", 4483362458) -- Title, Image

local Label = OtherTpTab:CreateLabel("Earth Teleport ( Require Shuttle )", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

--Earth Functions And Button Toggle

local teleporting = false
local teleportCoroutine

local function startTeleportLoop()
	if teleporting then return end
	teleporting = true

	teleportCoroutine = coroutine.create(function()
		local Players = game:GetService("Players")
		local player = Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local humanoid = character:WaitForChild("Humanoid")
		local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

		local targetPos = Vector3.new(-3300, 31, -1407)
		local searchRadius = 20

		local function findNearbySeat()
			for _, part in pairs(workspace:GetDescendants()) do
				if (part:IsA("Seat") or part:IsA("VehicleSeat")) and part:IsA("BasePart") then
					if (part.Position - targetPos).Magnitude <= searchRadius then
						return part
					end
				end
			end
			return nil
		end

		local targetSeat = findNearbySeat()

		if not targetSeat then
			warn("No seat found within 20 studs of target position!")
			teleporting = false
			-- Toggle OFF automatically
			OtherTpTab.Flags["Toggle1"] = false
			return
		end

		print("Found seat:", targetSeat:GetFullName())

		while teleporting do
			if not humanoid.Sit then
				-- Teleport player above seat until seated
				humanoidRootPart.CFrame = targetSeat.CFrame + Vector3.new(0, 2, 0)
			else
				print("Player is seated! Auto turning off.")
				teleporting = false
				-- Toggle OFF automatically
				OtherTpTab.Flags["Toggle1"] = false
				break
			end
			task.wait(0.3)
		end

		print("Teleport loop ended.")
	end)

	coroutine.resume(teleportCoroutine)
end

local function stopTeleportLoop()
	if teleporting then
		teleporting = false
		print("Teleport loop stopped manually.")
	end
end

local Toggle = OtherTpTab:CreateToggle({
	Name = "Earth Teleport",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		if Value then
			startTeleportLoop()
		else
			stopTeleportLoop()
		end
	end
})

--Artifacts Teleport

local Label = OtherTpTab:CreateLabel("Artifacts", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

-- Outside the button
local artifactMemory = {}
local allArtifacts = {}

local function refreshArtifacts()
	allArtifacts = {}
	local planets = workspace:FindFirstChild("Planets")
	if planets then
		for _, model in ipairs(planets:GetChildren()) do
			local artifacts = model:FindFirstChild("Artifacts")
			if artifacts then
				for _, part in ipairs(artifacts:GetDescendants()) do
					if part:IsA("BasePart") then
						table.insert(allArtifacts, part)
					end
				end
			end
		end
	end
end

local Button = OtherTpTab:CreateButton({
	Name = "Artifact Teleport",
	Callback = function()
		local player = game.Players.LocalPlayer
		local char = player.Character
		local hrp = char and char:FindFirstChild("HumanoidRootPart")
		if not hrp then return end

		if #allArtifacts == 0 then
			refreshArtifacts()
		end

		-- Filter unvisited and within 150 studs
		local available = {}
		for _, artifact in ipairs(allArtifacts) do
			if not table.find(artifactMemory, artifact) then
				local distance = (hrp.Position - artifact.Position).Magnitude
				if distance <= 150 then
					table.insert(available, artifact)
				end
			end
		end

		if #available == 0 then
			artifactMemory = {} -- Reset memory
			refreshArtifacts()  -- Optionally refresh artifacts again
			return
		end

		local chosen = available[math.random(1, #available)]
		table.insert(artifactMemory, chosen)

		-- Teleport player right next to the artifact
		local targetPos = chosen.Position + Vector3.new(0, 3, 0) -- Slightly above
		hrp.CFrame = CFrame.new(targetPos)
	end,
})

local Label = OtherTpTab:CreateLabel("Teleport To Orb ( You Must Inside Planet )", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local Button = OtherTpTab:CreateButton({
	Name = "Teleport to First Nearby Orb",
	Callback = function()
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")

		local planetsFolder = workspace:FindFirstChild("Planets")
		if not planetsFolder then return end

		for _, planetModel in pairs(planetsFolder:GetChildren()) do
			if planetModel:IsA("Model") then
				local minerals = planetModel:FindFirstChild("Minerals")
				if minerals then
					local orbName = planetModel.Name .. " Orb"
					local orbPart = minerals:FindFirstChild(orbName)

					if orbPart and orbPart:IsA("BasePart") then
						local distance = (hrp.Position - orbPart.Position).Magnitude
						if distance <= 200 then
							-- Teleport the player to orb (slightly above)
							hrp.CFrame = orbPart.CFrame + Vector3.new(0, 0, 0)
							return
						end
					end
				end
			end
		end
	end,
})

------------------------------------------------------------------------------------------------------------------------------------

local PlanetTpTab = Window:CreateTab("Bring Ships", 4483362458)

local Label = PlanetTpTab:CreateLabel("Bring Ships ( You Must Own The Ship )", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local Button = PlanetTpTab:CreateButton({
	Name = "Bring Orbiter",
	Callback = function()
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")

		-- Step 1: Initial teleport
		hrp.CFrame = CFrame.new(-3095, 15, -1371)

		-- Step 2: Delay and fire nearby prompts
		task.delay(0.2, function()
			for _, descendant in pairs(workspace:GetDescendants()) do
				if descendant:IsA("ProximityPrompt") then
					local distance = (descendant.Parent.Position - hrp.Position).Magnitude
					if distance <= 20 then
						pcall(function()
							fireproximityprompt(descendant)
						end)
					end
				end
			end

			-- Step 3: Another delay and teleport to one of three random positions
			task.delay(0.2, function()
				local positions = {
					Vector3.new(-3085, 34, -1390),
					Vector3.new(-3081, 34, -1371),
					Vector3.new(-3081, 34, -1353),
				}
				local randomPos = positions[math.random(1, #positions)]
				hrp.CFrame = CFrame.new(randomPos)
			end)
		end)
	end,
})

local Button = PlanetTpTab:CreateButton({
	Name = "Bring Corvette",
	Callback = function()
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")
		local humanoid = character:WaitForChild("Humanoid")

		-- Step 1: Initial teleport
		hrp.CFrame = CFrame.new(-3197, 12, -1476)

		-- Step 2: Fire all valid ProximityPrompts within 8 studs
		task.delay(0.2, function()
			local function searchAndFire(container)
				for _, descendant in pairs(container:GetDescendants()) do
					if descendant:IsA("ProximityPrompt") and descendant.Name == "PPrompt" then
						local parent = descendant.Parent
						if parent and parent:IsA("BasePart") and parent.Name == "ButtonSpawn" then
							local color = parent.Color
							local distance = (parent.Position - hrp.Position).Magnitude
							if color:ToHex() == Color3.fromRGB(13, 105, 172):ToHex() and distance <= 8 then
								pcall(function()
									fireproximityprompt(descendant)
								end)
							end
						end
					end
				end
			end

			searchAndFire(workspace)
			searchAndFire(game.ReplicatedStorage)

			-- Step 3: Loop teleport to random positions until sitting
			task.delay(0.2, function()
				local positions = {
					Vector3.new(-3197, 19, -1487),
					Vector3.new(-3197, 19, -1487),
					Vector3.new(-3197, 19, -1487),
				}

				local loopTeleport
				loopTeleport = game:GetService("RunService").Heartbeat:Connect(function()
					if humanoid.SeatPart == nil then
						local randomPos = positions[math.random(1, #positions)]
						hrp.CFrame = CFrame.new(randomPos)
					else
						-- Stop the loop when player sits
						loopTeleport:Disconnect()
					end
				end)
			end)
		end)
	end,
})

-------------------------------------------------------------------------------------------------------------------------------------------------------------

if game.PlaceVersion < 2343 then
	return
end

local GiftsLineGui = SpaceHubESPFolder:WaitForChild("GiftsLines")
local GiftsBoxGui = SpaceHubESPFolder:WaitForChild("GiftsBoxes")
local GiftsNameGui = SpaceHubESPFolder:WaitForChild("GiftsNames")
local OneHitGifts = SpaceHubValuesFolder:WaitForChild("OneHitGifts")

local EventTab = Window:CreateTab("Winter Event", 4483362458) -- Title, Image

local Label = EventTab:CreateLabel("üöÄ[Winter] The Space Simulator", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local ToggleLGifts = EventTab:CreateToggle({
	Name = "Gifts ESP Lines",
	CurrentValue = false,
	Flag = "ToggleLGift",
	Callback = function(Value)
		GiftsLineGui.Enabled = Value
	end
})

local ToggleBGifts = EventTab:CreateToggle({
	Name = "Gifts ESP Boxes",
	CurrentValue = false,
	Flag = "ToggleBGift",
	Callback = function(Value)
		GiftsBoxGui.Enabled = Value
	end
})

local ToggleIGifts = EventTab:CreateToggle({
	Name = "Gifts ESP Informations",
	CurrentValue = false,
	Flag = "ToggleIGift",
	Callback = function(Value)
		GiftsNameGui.Enabled = Value
	end
})

local OneHitToggleGifts = EventTab:CreateToggle({
	Name = "One Hit Mine All Gifts",
	CurrentValue = false,
	Flag = "OneHitToggleGifts",
	Callback = function(Value)
		OneHitGifts.Value = Value
	end
})

Rayfield:Notify({
	Title = "Space Hub",
	Content = "The Script Has Fully Loaded!",
	Duration = 5,
	Image = 4483362458,
})
