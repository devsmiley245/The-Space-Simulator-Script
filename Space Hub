print("Script Ranned")

local Workspace = game:GetService("Workspace")
local CoreGui = game.CoreGui
local TweenService = game:GetService("TweenService")
local Debris = game:GetService("Debris")

local function ShowNotify(message)
	local SpaceHubGui = CoreGui:FindFirstChild("SpaceHubGui")
	if not SpaceHubGui then
		local SpaceHubGui = Instance.new("ScreenGui")
		SpaceHubGui.Parent = CoreGui
		SpaceHubGui.Name = "SpaceHubGui"
	end

	local NotifyFolder = SpaceHubGui:FindFirstChild("NotifyFolder")
	if not NotifyFolder then
		local NotifyFolder = Instance.new("Folder")
		NotifyFolder.Name = "NotifyFolder"
		NotifyFolder.Parent = SpaceHubGui
	end

	local Notify = Instance.new("Frame")
	local NotiUICorner = Instance.new("UICorner")
	local NotiText = Instance.new("TextLabel")
	local NotiStroke = Instance.new("UIStroke")
	local NotiSound = Instance.new("Sound")

	Notify.Name = "NotifyClone"
	Notify.AnchorPoint = Vector2.new(0.5,0.8)
	Notify.BackgroundColor3 = Color3.fromRGB(0,0,0)
	Notify.BackgroundTransparency = 0.65
	Notify.BorderSizePixel = 0
	Notify.Position = UDim2.new(0.5,0,1.2,0)
	Notify.Size = UDim2.new(0.8,0,0.15,0)
	Notify.Parent = NotifyFolder

	NotiUICorner.CornerRadius = UDim.new(0,10)
	NotiUICorner.Parent = Notify

	NotiStroke.Color = Color3.fromRGB(255,255,255)
	NotiStroke.Thickness = 0.03
	NotiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	NotiStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
	NotiStroke.Parent = Notify

	NotiText.AnchorPoint = Vector2.new(0.5,0.5)
	NotiText.BackgroundTransparency = 1
	NotiText.Position = UDim2.new(0.5,0,0.5,0)
	NotiText.Size = UDim2.new(0.95,0,0.8,0)
	NotiText.Font = Enum.Font.Fantasy
	NotiText.Text = message
	NotiText.TextColor3 = Color3.fromRGB(255,255,255)
	NotiText.TextScaled = true
	NotiText.TextWrapped = true
	NotiText.Parent = Notify

	NotiSound.SoundId = "rbxassetid://122521410562449"
	NotiSound.Volume = 1
	NotiSound.Parent = Notify
	NotiSound:Play()

	local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
	local goal = {Position = UDim2.new(0.5,0,0.8,0)}
	local tween = TweenService:Create(Notify, tweenInfo, goal)
	tween:Play()

	Debris:AddItem(Notify, 3)
end

local allowedPlaceIds = {
	15027718878,
}
if not table.find(allowedPlaceIds, game.PlaceId) then
	warn("This script is not allowed in this place.")
	ShowNotify("This script is not allowed in this place!")
	return
end

if CoreGui:FindFirstChild("SpaceHubGui") then
	ShowNotify("The Script is already executed!")
	return
end

local SpaceHubGui = Instance.new("ScreenGui")
SpaceHubGui.Parent = CoreGui
SpaceHubGui.Name = "SpaceHubGui"

local NotifyFolder = Instance.new("Folder")
NotifyFolder.Name = "NotifyFolder"
NotifyFolder.Parent = SpaceHubGui

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
	Name = "The Space Simulator - Space Hub ü™ê",
	Icon = 17104625041,
	LoadingTitle = "Space Hub v0.21 or v" .. game.PlaceVersion,
	LoadingSubtitle = "by Dev_Smiley",
	ShowText = "Space Hub ü™ê",
	Theme = "Bloom",

	ToggleUIKeybind = "K",

	DisableRayfieldPrompts = false,
	DisableBuildWarnings = false,

	ConfigurationSaving = {
		Enabled = true,
		FolderName = nil, -- Create a custom folder for your hub/game
		FileName = "SpaceHub"
	},

	Discord = {
		Enabled = false, -- Prompt the user to join your Discord server if their executor supports it
		Invite = "noinvitelink", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
		RememberJoins = true -- Set this to false to make them join the discord every time they load it up
	},

	KeySystem = false, -- Set this to true to use our key system
	KeySettings = {
		Title = "Untitled",
		Subtitle = "Key System",
		Note = "No method of obtaining the key is provided", -- Use this to tell the user how to get a key
		FileName = "Key", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
		SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
		GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
		Key = {"Hello"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
	}
})

local HomeTab = Window:CreateTab("Home", 4483362458)
local ShipTab = Window:CreateTab("Ship", 4483362458) -- Title, Image
local MSettingsTab = Window:CreateTab("Mine Settings", 4483362458) -- Title, Image
local PlayerTab = Window:CreateTab("LocalPlayer", 4483362458) -- Title, Image
local ESPTab = Window:CreateTab("ESP", 4483362458) -- Title, Image
local OtherTpTab = Window:CreateTab("Teleport", 4483362458) -- Title, Image
local CSettingsTab = Window:CreateTab("Client Settings", 4483362458) -- Title, Image
local PlanetTpTab = Window:CreateTab("Bring Ships", 4483362458)
local OtherTab = Window:CreateTab("Other", 4483362458) -- Title, Image

local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")

-- Home Functons

local Label = HomeTab:CreateLabel("Hello Player, Thanks For Using My Script :D", 4483362458, Color3.fromRGB(255,205,220), false)
local Label = HomeTab:CreateLabel(" User Informations ", 4483362458, Color3.fromRGB(255,205,220), false)
local Label = HomeTab:CreateLabel("Display Name: "..game.Players.LocalPlayer.DisplayName, 4483362458, Color3.fromRGB(255,205,220), false)
local Label = HomeTab:CreateLabel("Username: @"..game.Players.LocalPlayer.Name, 4483362458, Color3.fromRGB(255,205,220), false)
local Label = HomeTab:CreateLabel("UserId: "..game.Players.LocalPlayer.UserId, 4483362458, Color3.fromRGB(255,205,220), false)
local Label = HomeTab:CreateLabel("Account Age: "..game.Players.LocalPlayer.AccountAge.." days", 4483362458, Color3.fromRGB(255,205,220), false)
local LabelTime = HomeTab:CreateLabel("Local Time: --:--:--", 4483362458, Color3.fromRGB(255,205,220), false)
local Label = HomeTab:CreateLabel(" Server Informations ", 4483362458, Color3.fromRGB(255,205,220), false)
local LabelGameName = HomeTab:CreateLabel("Game Name: The Space Simulator", 4483362458, Color3.fromRGB(255,205,220), false)
local Label = HomeTab:CreateLabel("PlaceId: "..game.PlaceId, 4483362458, Color3.fromRGB(255,205,220), false)
local LabelJoinedTime = HomeTab:CreateLabel("Played Time: 0s", 4483362458, Color3.fromRGB(255,205,220), false)
local LabelTotalPlayers = HomeTab:CreateLabel("Total Players: "..#game.Players:GetPlayers(), 4483362458, Color3.fromRGB(255,205,220), false)

game.Players.PlayerAdded:Connect(function()
	LabelTotalPlayers:Set("Total Players: "..#game.Players:GetPlayers())
end)

game.Players.PlayerRemoving:Connect(function()
	LabelTotalPlayers:Set("Total Players: "..#game.Players:GetPlayers())
end)

task.spawn(function()
	while true do
		LabelTime:Set("Local Time: "..os.date("%H:%M:%S"))
		task.wait(1)
	end
end)

local startTime = tick()

task.spawn(function()
	while true do
		local elapsed = math.floor(tick() - startTime)
		LabelJoinedTime:Set("Joined Time: "..elapsed.."s")
		task.wait(1)
	end
end)

--Local Player Functions

local Slider = PlayerTab:CreateSlider({
	Name = "Walkspeed",
	Range = {10, 100},
	Increment = 1,
	Suffix = "Speed",
	CurrentValue = 10,
	Flag = "Slider1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").WalkSpeed = Value
	end,
})
local Slider = PlayerTab:CreateSlider({
	Name = "JetPack Speed",
	Range = {5, 100},
	Increment = 1,
	Suffix = "Max Jetpack Speed",
	CurrentValue = 5,
	Flag = "Slider2", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer:SetAttribute("jetpackSpeed", Value)
	end,
})

local Slider = PlayerTab:CreateSlider({
	Name = "Jump Power",
	Range = {50, 400},
	Increment = 1,
	Suffix = "Current Jump Power",
	CurrentValue = 50,
	Flag = "Slider3", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").JumpPower = Value
	end,
})

local Slider = PlayerTab:CreateSlider({
	Name = "Hip Height",
	Range = {0, 100},
	Increment = 1,
	Suffix = "Current Hip Height",
	CurrentValue = 0,
	Flag = "Slider4", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").HipHeight = Value
	end,
})

--Toggle Buttons For Boolens
local Button = PlayerTab:CreateButton({
	Name = "Sit Player",
	Callback = function()
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Sit = true-- The function that takes place when the button is pressed
	end,
})

local Button = PlayerTab:CreateButton({
	Name = "Reset",
	Callback = function()
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Health = 0-- The function that takes place when the button is pressed
	end,
})

-------------------------------------------------------------------------------------------------------------------------------------------------------------

local Label = MSettingsTab:CreateLabel("Please Turn Off When You Leave Planet Or Died", 4483362458, Color3.fromRGB(255, 205, 220), false)

local Toggle = MSettingsTab:CreateToggle({
	Name = "1 Hit Mine Resources And Orbs",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		local Players = game:GetService("Players")
		local player = Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")

		local allowedClasses = {
			["BasePart"] = true,
			["MeshPart"] = true,
			["UnionOperation"] = true,
			["Part"] = true,
		}

		local planetsFolder = workspace:FindFirstChild("Planets")
		if not planetsFolder then
			warn("Planets folder not found in Workspace.")
			return
		end

		-- Find closest planet model
		local nearestPlanet, minDistance = nil, math.huge
		for _, model in pairs(planetsFolder:GetChildren()) do
			if model:IsA("Model") then
				local referencePart = nil
				if model:FindFirstChild("Center") then
					referencePart = model.Center
				elseif model.Name == "Sun" then
					local core = model:FindFirstChildWhichIsA("MeshPart")
					if core and core.Name == "Core" then
						referencePart = core
					end
				end

				if referencePart then
					local dist = (referencePart.Position - hrp.Position).Magnitude
					if dist < minDistance and dist <= 200 then
						nearestPlanet = model
						minDistance = dist
					end
				end
			end
		end


		if not nearestPlanet then
			warn("No nearby planet found within 200 studs.")
			return
		end

		local mineralsFolder = nearestPlanet:FindFirstChild("Minerals")
		if not mineralsFolder then
			warn("No Minerals folder in:", nearestPlanet.Name)
			return
		end

		for _, part in ipairs(mineralsFolder:GetDescendants()) do
			if allowedClasses[part.ClassName] and part:GetAttribute("hitpoints") ~= nil then
				local dist = (part.Position - hrp.Position).Magnitude
				if dist <= 200 then
					if Value then
						-- Toggle ON: Set hitpoints to 1
						if part:GetAttribute("hitpoints") ~= 1 then
							part:SetAttribute("hitpoints", 1)
						end
					else
						-- Toggle OFF: Reset hitpoints to 100
						part:SetAttribute("hitpoints", 100)
					end
				end
			end
		end
	end,
})

local Toggle = MSettingsTab:CreateToggle({
	Name = "No Pickaxe Level Require Client Side",
	CurrentValue = false,
	Flag = "Toggle2",
	Callback = (function()
		local modifiedParts = {}  -- Store original minPickaxeLevel values

		return function(Value)
			local Players = game:GetService("Players")
			local player = Players.LocalPlayer
			local character = player.Character or player.CharacterAdded:Wait()
			local hrp = character:WaitForChild("HumanoidRootPart")

			local allowedClasses = {
				["BasePart"] = true,
				["MeshPart"] = true,
				["UnionOperation"] = true,
				["Part"] = true,
			}

			local planetsFolder = workspace:FindFirstChild("Planets")
			if not planetsFolder then
				warn("Planets folder not found in Workspace.")
				return
			end

			-- Find closest planet within 200 studs
			local nearestPlanet, minDistance = nil, math.huge
			for _, model in pairs(planetsFolder:GetChildren()) do
				if model:IsA("Model") then
					local referencePart = nil
					if model:FindFirstChild("Center") then
						referencePart = model.Center
					elseif model.Name == "Sun" then
						local core = model:FindFirstChildWhichIsA("MeshPart")
						if core and core.Name == "Core" then
							referencePart = core
						end
					end

					if referencePart then
						local dist = (referencePart.Position - hrp.Position).Magnitude
						if dist < minDistance and dist <= 200 then
							nearestPlanet = model
							minDistance = dist
						end
					end
				end
			end

			if not nearestPlanet then
				warn("No nearby planet found within 200 studs.")
				return
			end

			local mineralsFolder = nearestPlanet:FindFirstChild("Minerals")
			if not mineralsFolder then
				warn("No Minerals folder in:", nearestPlanet.Name)
				return
			end

			if Value then
				-- Toggle ON: Set minPickaxeLevel to 1
				for _, part in ipairs(mineralsFolder:GetDescendants()) do
					if allowedClasses[part.ClassName] then
						local level = part:GetAttribute("minPickaxeLevel")
						if level ~= nil and level ~= 1 then
							local dist = (part.Position - hrp.Position).Magnitude
							if dist <= 200 then
								modifiedParts[part] = level
								part:SetAttribute("minPickaxeLevel", 1)
							end
						end
					end
				end
			else
				-- Toggle OFF: Restore all previously modified parts
				for part, originalLevel in pairs(modifiedParts) do
					if part and part:IsDescendantOf(game) then
						part:SetAttribute("minPickaxeLevel", originalLevel)
					end
				end
				table.clear(modifiedParts)
			end
		end
	end)()
})

local teleporting = false
local teleportCoroutine
local equipCoroutine

local function AstartTeleportLoop()
	if teleporting then return end
	teleporting = true

	teleportCoroutine = coroutine.create(function()
		local Players = game:GetService("Players")
		local player = Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")

		local planetsFolder = workspace:FindFirstChild("Planets")
		if not planetsFolder then
			warn("Planets folder not found in Workspace.")
			teleporting = false
			return
		end

		-- Find closest planet within 200 studs
		local nearestPlanet, minDistance = nil, math.huge
		for _, model in pairs(planetsFolder:GetChildren()) do
			if model:IsA("Model") then
				local referencePart = nil
				if model:FindFirstChild("Center") then
					referencePart = model.Center
				elseif model.Name == "Sun" then
					local core = model:FindFirstChildWhichIsA("MeshPart")
					if core and core.Name == "Core" then
						referencePart = core
					end
				end

				if referencePart then
					local dist = (referencePart.Position - hrp.Position).Magnitude
					if dist < minDistance and dist <= 200 then
						nearestPlanet = model
						minDistance = dist
					end
				end
			end
		end

		if not nearestPlanet then
			warn("No nearby planet found within 200 studs.")
			teleporting = false
			return
		end

		local mineralsFolder = nearestPlanet:FindFirstChild("Minerals")
		if not mineralsFolder then
			warn("No Minerals folder in:", nearestPlanet.Name)
			teleporting = false
			return
		end

		local parts = {}
		for _, part in ipairs(mineralsFolder:GetDescendants()) do
			if part:IsA("BasePart") then
				table.insert(parts, part)
			end
		end

		if #parts == 0 then
			warn("No parts found inside Minerals folder.")
			teleporting = false
			return
		end

		local startCFrame = hrp.CFrame
		local lastIndex = nil

		while teleporting do
			for i, part in ipairs(parts) do
				if not teleporting then break end

				-- Avoid teleporting to the same part twice in a row
				if i == lastIndex then
					i = (i % #parts) + 1  -- move to next index safely
				end

				lastIndex = i

				-- Teleport player slowly (instant here, you can tween if you want smooth)
				hrp.CFrame = part.CFrame + Vector3.new(0, 3, 0) -- teleport a bit above the part

				task.wait(1) -- wait 1 second before next teleport
			end

			if not teleporting then break end

			-- After finishing all parts, teleport back to start slowly
			hrp.CFrame = startCFrame + Vector3.new(0, 3, 0)
			task.wait(1)
		end

		print("Teleport loop stopped.")
	end)

	coroutine.resume(teleportCoroutine)
end

local function AstopTeleportLoop()
	if teleporting then
		teleporting = false
		print("Teleport loop stopped manually.")
	end
end

local Toggle3 = MSettingsTab:CreateToggle({
	Name = "Teleport To Resources ( You Must Inside Planets )",
	CurrentValue = false,
	Flag = "Toggle3",
	Callback = function(Value)
		if Value then
			AstartTeleportLoop()
		else
			AstopTeleportLoop()
		end
	end
})

local function startEquipLoop()
	if teleporting then return end
	teleporting = true

	equipCoroutine = coroutine.create(function()
		local player = game.Players.LocalPlayer
		local backpack = player:WaitForChild("Backpack")

		while teleporting do
			local pickaxes = {}
			for _, item in ipairs(backpack:GetChildren()) do
				if item:IsA("Tool") and item:GetAttribute("pickaxe") == true then
					table.insert(pickaxes, item)
				end
			end

			local toolToEquip = pickaxes[2]
			if toolToEquip then
				toolToEquip.Parent = player.Character
			end

			task.wait(0.5)
		end
	end)

	coroutine.resume(equipCoroutine)
end

local function stopEquipLoop()
	teleporting = false
end

local Toggle4 = MSettingsTab:CreateToggle({
	Name = "Auto Equip Pickaxe",
	CurrentValue = false,
	Flag = "Toggle4",
	Callback = function(Value)
		if Value then
			startEquipLoop()
		else
			stopEquipLoop()
		end
	end
})

-------------------------------------------------------------------------------------------------------------------------------------------------------------

local Button = PlayerTab:CreateButton({
	Name = "Rejoin",
	Callback = function()
		local player = game.Players.LocalPlayer
		local placeId = game.PlaceId
		TeleportService:Teleport(placeId, player)
	end,
})

local autorotateButton
local AutoRotate = false

autorotateButton = PlayerTab:CreateButton({
	Name = "Auto Rotate: True",
	Callback = function()
		local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if not humanoid then
			warn("Humanoid Not Found")
			return
		end

		AutoRotate = not AutoRotate
		if AutoRotate then
			autorotateButton:Set("Auto Rotate: True")
			humanoid.AutoRotate = true
		else
			autorotateButton:Set("Auto Rotate: False")
			humanoid.AutoRotate = false
		end
	end,
})

--Ship Functions

local Label = ShipTab:CreateLabel("For Change Speed You Must Sitting In Ship", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local ShipMovements = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
local Title = Instance.new("TextLabel")
local SelectionFrame = Instance.new("Frame")
local List = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")
local maxSpeed = Instance.new("TextButton")
local UIAspectRatioConstraint_2 = Instance.new("UIAspectRatioConstraint")
local acceleration = Instance.new("TextButton")
local UIAspectRatioConstraint_3 = Instance.new("UIAspectRatioConstraint")
local deceleration = Instance.new("TextButton")
local UIAspectRatioConstraint_4 = Instance.new("UIAspectRatioConstraint")
local agility = Instance.new("TextButton")
local UIAspectRatioConstraint_5 = Instance.new("UIAspectRatioConstraint")
local Info = Instance.new("TextLabel")
local Title1 = Instance.new("TextLabel")
local NumValue = Instance.new("TextBox")
local LoopNumValue = Instance.new("TextBox")
local ApplyBtn = Instance.new("TextButton")
local ToggleLoopBtn = Instance.new("TextButton")
local UIAspectRatioConstraint_6 = Instance.new("UIAspectRatioConstraint")

ShipMovements.Name = "ShipMovements"
ShipMovements.Parent = game.CoreGui
ShipMovements.ScreenInsets = Enum.ScreenInsets.None
ShipMovements.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ShipMovements.Enabled = false

MainFrame.Name = "MainFrame"
MainFrame.Parent = ShipMovements
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BackgroundTransparency = 0.650
MainFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0.36500001, 0, 0.36500001, 0)
MainFrame.ZIndex = 500
local mainFrameStroke = Instance.new("UIStroke")
mainFrameStroke.Parent = MainFrame
mainFrameStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
mainFrameStroke.Color = Color3.fromRGB(255, 255, 255)
mainFrameStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
mainFrameStroke.Thickness = 0.015
local MainFrameDragger = Instance.new("UIDragDetector")
MainFrameDragger.Parent = MainFrame

UIAspectRatioConstraint.Parent = MainFrame
UIAspectRatioConstraint.AspectRatio = 1.5

Title.Name = "Title"
Title.Parent = MainFrame
Title.AnchorPoint = Vector2.new(0.5, 0)
Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Title.BackgroundTransparency = 0.800
Title.BorderColor3 = Color3.fromRGB(0, 0, 0)
Title.BorderSizePixel = 0
Title.Position = UDim2.new(0.49999997, 0, 0, 0)
Title.Size = UDim2.new(0.99999994, 0, 0.169872597, 0)
Title.Font = Enum.Font.Arial
Title.Text = "Ship Function Modifier"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.TextSize = 14.000
Title.TextWrapped = true
local TitleStroke = Instance.new("UIStroke")
TitleStroke.Parent = Title
TitleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
TitleStroke.Color = Color3.fromRGB(255, 255, 255)
TitleStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
TitleStroke.Thickness = 0.08

SelectionFrame.Name = "SelectionFrame"
SelectionFrame.Parent = MainFrame
SelectionFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
SelectionFrame.BackgroundTransparency = 0.600
SelectionFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
SelectionFrame.BorderSizePixel = 0
SelectionFrame.Position = UDim2.new(1.06367576, 0, 0.430113614, 0)
SelectionFrame.Size = UDim2.new(0.508703411, 0, 0.565581024, 0)
local SelectionFrameStroke = Instance.new("UIStroke")
SelectionFrameStroke.Parent = SelectionFrame
SelectionFrameStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
SelectionFrameStroke.Color = Color3.fromRGB(255, 255, 255)
SelectionFrameStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
SelectionFrameStroke.Thickness = 0.022
local SelectionFrameDragger = Instance.new("UIDragDetector")
SelectionFrameDragger.Parent = SelectionFrame
SelectionFrame.ZIndex = 500

List.Name = "List"
List.Parent = SelectionFrame
List.Active = true
List.AnchorPoint = Vector2.new(0.5, 0.5)
List.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
List.BackgroundTransparency = 1.000
List.BorderColor3 = Color3.fromRGB(0, 0, 0)
List.BorderSizePixel = 0
List.Position = UDim2.new(0.5, 0, 0.5, 0)
List.Size = UDim2.new(0.949999988, 0, 0.949999988, 0)
List.ScrollBarThickness = 2
List.ZIndex = 510

UIListLayout.Parent = List
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 5)

maxSpeed.Name = "maxSpeed"
maxSpeed.Parent = List
maxSpeed.BackgroundColor3 = Color3.fromRGB(132, 132, 132)
maxSpeed.BorderColor3 = Color3.fromRGB(0, 0, 0)
maxSpeed.BorderSizePixel = 0
maxSpeed.Size = UDim2.new(1, 0, 1, 0)
maxSpeed.Font = Enum.Font.Arial
maxSpeed.Text = "Speed"
maxSpeed.TextColor3 = Color3.fromRGB(255, 255, 255)
maxSpeed.TextScaled = true
maxSpeed.TextSize = 14.000
maxSpeed.TextWrapped = true
maxSpeed.ZIndex = 520

UIAspectRatioConstraint_2.Parent = maxSpeed
UIAspectRatioConstraint_2.AspectRatio = 3.500

acceleration.Name = "acceleration"
acceleration.Parent = List
acceleration.BackgroundColor3 = Color3.fromRGB(132, 132, 132)
acceleration.BorderColor3 = Color3.fromRGB(0, 0, 0)
acceleration.BorderSizePixel = 0
acceleration.Size = UDim2.new(1, 0, 1, 0)
acceleration.Font = Enum.Font.Arial
acceleration.Text = " Acceleration"
acceleration.TextColor3 = Color3.fromRGB(255, 255, 255)
acceleration.TextScaled = true
acceleration.TextSize = 14.000
acceleration.TextWrapped = true
acceleration.ZIndex = 520

UIAspectRatioConstraint_3.Parent = acceleration
UIAspectRatioConstraint_3.AspectRatio = 3.500

deceleration.Name = "deceleration"
deceleration.Parent = List
deceleration.BackgroundColor3 = Color3.fromRGB(132, 132, 132)
deceleration.BorderColor3 = Color3.fromRGB(0, 0, 0)
deceleration.BorderSizePixel = 0
deceleration.Size = UDim2.new(1, 0, 1, 0)
deceleration.Font = Enum.Font.Arial
deceleration.Text = " Deceleration"
deceleration.TextColor3 = Color3.fromRGB(255, 255, 255)
deceleration.TextScaled = true
deceleration.TextSize = 14.000
deceleration.TextWrapped = true
deceleration.ZIndex = 520

UIAspectRatioConstraint_4.Parent = deceleration
UIAspectRatioConstraint_4.AspectRatio = 3.500

agility.Name = "agility"
agility.Parent = List
agility.BackgroundColor3 = Color3.fromRGB(132, 132, 132)
agility.BorderColor3 = Color3.fromRGB(0, 0, 0)
agility.BorderSizePixel = 0
agility.Size = UDim2.new(1, 0, 1, 0)
agility.Font = Enum.Font.Arial
agility.Text = "Agility"
agility.TextColor3 = Color3.fromRGB(255, 255, 255)
agility.TextScaled = true
agility.TextSize = 14.000
agility.TextWrapped = true
agility.ZIndex = 520

UIAspectRatioConstraint_5.Parent = agility
UIAspectRatioConstraint_5.AspectRatio = 3.500

Info.Name = "Info"
Info.Parent = SelectionFrame
Info.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Info.BackgroundTransparency = 0.600
Info.BorderColor3 = Color3.fromRGB(0, 0, 0)
Info.BorderSizePixel = 0
Info.Position = UDim2.new(-5.59042974e-07, 0, -0.370072424, 0)
Info.Size = UDim2.new(1, 0, 0.2826235, 0)
Info.Font = Enum.Font.Arial
Info.Text = "‚Üì Select  One ‚Üì"
Info.TextColor3 = Color3.fromRGB(255, 255, 255)
Info.TextScaled = true
Info.TextSize = 14.000
Info.TextWrapped = true
Info.ZIndex = 520
local InfoStroke = Instance.new("UIStroke")
InfoStroke.Parent = Info
InfoStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
InfoStroke.Color = Color3.fromRGB(255, 255, 255)
InfoStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
InfoStroke.Thickness = 0.05

Title1.Name = "Title1"
Title1.Parent = MainFrame
Title1.AnchorPoint = Vector2.new(0.5, 0)
Title1.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Title1.BackgroundTransparency = 0.800
Title1.BorderColor3 = Color3.fromRGB(0, 0, 0)
Title1.BorderSizePixel = 0
Title1.Position = UDim2.new(0.49999997, 0, 0.538160384, 0)
Title1.Size = UDim2.new(1, 0, 0.150000006, 0)
Title1.Font = Enum.Font.Arial
Title1.Text = "Kuiper Belt Bypass Loop Speed"
Title1.TextColor3 = Color3.fromRGB(255, 255, 255)
Title1.TextScaled = true
Title1.TextSize = 14.000
Title1.TextWrapped = true
local Title1Stroke = Instance.new("UIStroke")
Title1Stroke.Parent = Title1
Title1Stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
Title1Stroke.Color = Color3.fromRGB(255, 255, 255)
Title1Stroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
Title1Stroke.Thickness = 0.05

NumValue.Name = "NumValue"
NumValue.Parent = MainFrame
NumValue.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
NumValue.BackgroundTransparency = 0.600
NumValue.BorderColor3 = Color3.fromRGB(0, 0, 0)
NumValue.BorderSizePixel = 0
NumValue.Position = UDim2.new(0.027956387, 0, 0.220440716, 0)
NumValue.Size = UDim2.new(0.75, 0, 0.25999999, 0)
NumValue.Font = Enum.Font.Arial
NumValue.PlaceholderText = "Number Amount"
NumValue.Text = ""
NumValue.TextColor3 = Color3.fromRGB(255, 255, 255)
NumValue.TextScaled = true
NumValue.TextSize = 14.000
NumValue.TextWrapped = true
local NumValueStroke = Instance.new("UIStroke")
NumValueStroke.Parent = NumValue
NumValueStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
NumValueStroke.Color = Color3.fromRGB(255, 255, 255)
NumValueStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
NumValueStroke.Thickness = 0.025

LoopNumValue.Name = "LoopNumValue"
LoopNumValue.Parent = MainFrame
LoopNumValue.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
LoopNumValue.BackgroundTransparency = 0.600
LoopNumValue.BorderColor3 = Color3.fromRGB(0, 0, 0)
LoopNumValue.BorderSizePixel = 0
LoopNumValue.Position = UDim2.new(0.027956387, 0, 0.736500025, 0)
LoopNumValue.Size = UDim2.new(0.75, 0, 0.25999999, 0)
LoopNumValue.Font = Enum.Font.Arial
LoopNumValue.PlaceholderText = "Loop Speed Number"
LoopNumValue.Text = ""
LoopNumValue.TextColor3 = Color3.fromRGB(255, 255, 255)
LoopNumValue.TextScaled = true
LoopNumValue.TextSize = 14.000
LoopNumValue.TextWrapped = true
local LoopNumValueStroke = Instance.new("UIStroke")
LoopNumValueStroke.Parent = LoopNumValue
LoopNumValueStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
LoopNumValueStroke.Color = Color3.fromRGB(255, 255, 255)
LoopNumValueStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
LoopNumValueStroke.Thickness = 0.025

ApplyBtn.Name = "ApplyBtn"
ApplyBtn.Parent = MainFrame
ApplyBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ApplyBtn.BackgroundTransparency = 0.600
ApplyBtn.BorderColor3 = Color3.fromRGB(0, 0, 0)
ApplyBtn.BorderSizePixel = 0
ApplyBtn.Position = UDim2.new(0.810000002, 0, 0.224999994, 0)
ApplyBtn.Size = UDim2.new(0.181999996, 0, 0.25, 0)
ApplyBtn.Font = Enum.Font.Arial
ApplyBtn.Text = "Apply"
ApplyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplyBtn.TextScaled = true
ApplyBtn.TextSize = 14.000
ApplyBtn.TextWrapped = true
local ApplyBtnStroke = Instance.new("UIStroke")
ApplyBtnStroke.Parent = ApplyBtn
ApplyBtnStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
ApplyBtnStroke.Color = Color3.fromRGB(255, 255, 255)
ApplyBtnStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
ApplyBtnStroke.Thickness = 0.035

ToggleLoopBtn.Name = "ToggleLoopBtn"
ToggleLoopBtn.Parent = MainFrame
ToggleLoopBtn.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
ToggleLoopBtn.BackgroundTransparency = 0.600
ToggleLoopBtn.BorderColor3 = Color3.fromRGB(0, 0, 0)
ToggleLoopBtn.BorderSizePixel = 0
ToggleLoopBtn.Position = UDim2.new(0.810000002, 0, 0.736500025, 0)
ToggleLoopBtn.Size = UDim2.new(0.181999996, 0, 0.25, 0)
ToggleLoopBtn.Font = Enum.Font.Arial
ToggleLoopBtn.Text = "Off"
ToggleLoopBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleLoopBtn.TextScaled = true
ToggleLoopBtn.TextSize = 14.000
ToggleLoopBtn.TextWrapped = true
local ToggleLoopBtnStroke = Instance.new("UIStroke")
ToggleLoopBtnStroke.Parent = ToggleLoopBtn
ToggleLoopBtnStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
ToggleLoopBtnStroke.Color = Color3.fromRGB(255, 255, 255)
ToggleLoopBtnStroke.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
ToggleLoopBtnStroke.Thickness = 0.035

UIAspectRatioConstraint_6.Parent = ApplyBtn

local gui = ShipMovements
local selectionFrame = gui.MainFrame.SelectionFrame
local numValueBox = gui.MainFrame.NumValue
local loopNumValueBox = gui.MainFrame.LoopNumValue
local applyBtn = gui.MainFrame.ApplyBtn
local list = selectionFrame.List

local buttonNameToAttr = {
	maxSpeed = "maxSpeed",
	acceleration = "acceleration",
	deceleration = "deceleration",
	agility = "agility"
}

local buttons = {}
local selectedButton = nil

for _, child in ipairs(list:GetChildren()) do
	if child:IsA("TextButton") then
		table.insert(buttons, child)

		child.MouseButton1Click:Connect(function()
			for _, b in ipairs(buttons) do
				b.BackgroundColor3 = Color3.fromRGB(132,132,132)
			end
			child.BackgroundColor3 = Color3.fromRGB(85,170,85)
			selectedButton = child
		end)
	end
end

local function getSeatMain()
	local character = game.Players.LocalPlayer.Character
	if character then
		local humanoid = character:FindFirstChildOfClass("Humanoid")
		if humanoid and humanoid.SeatPart then
			local seat = humanoid.SeatPart
			local main = seat.Parent:FindFirstChild("Main")
			return main
		end
	end
	return nil
end

applyBtn.MouseButton1Click:Connect(function()
	if not selectedButton then return end
	local mainPart = getSeatMain()
	if not mainPart then return end

	local value = tonumber(numValueBox.Text)
	if not value then return end

	local attrName = buttonNameToAttr[selectedButton.Name]
	if not attrName then return end

	mainPart:SetAttribute(attrName, value)
end)


local toggleLoopBtn = gui.MainFrame.ToggleLoopBtn
local loopActive = false

local function isValidLoopValue()
	local val = tonumber(loopNumValueBox.Text)
	return val and val > 0
end

local function updateToggleButton()
	if loopActive then
		toggleLoopBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
		toggleLoopBtn.Text = "On"
	else
		toggleLoopBtn.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
		toggleLoopBtn.Text = "Off"
	end
end

toggleLoopBtn.MouseButton1Click:Connect(function()
	if loopActive then
		loopActive = false

		local mainPart = getSeatMain()
		if mainPart then
			local lv = mainPart:FindFirstChild("LinearVelocity")
			if lv and lv:IsA("LinearVelocity") then
				lv.VectorVelocity = Vector3.new(15,0,0)
			end
		end
	else
		if isValidLoopValue() then
			loopActive = true

			local mainPart = getSeatMain()
			if mainPart then
				local lv = mainPart:FindFirstChild("LinearVelocity")
				if lv and lv:IsA("LinearVelocity") then
					local val = tonumber(loopNumValueBox.Text)
					if val and val > 0 then
						lv.VectorVelocity = Vector3.new(val,0,0)
					end
				end
			end
		else
			loopActive = false
		end
	end
	updateToggleButton()
end)


spawn(function()
	while true do
		local mainPart = getSeatMain()
		if mainPart then
			local lv = mainPart:FindFirstChild("LinearVelocity")
			if lv and lv:IsA("LinearVelocity") then
				local val = tonumber(loopNumValueBox.Text)
				local valid = val and val > 0

				if loopActive then
					if valid then
						lv.VectorVelocity = Vector3.new(val,0,0)
					else
						loopActive = false
						updateToggleButton()
					end
				end
			end
		end
		task.wait(0.05)
	end
end)

local Slider = ShipTab:CreateSlider({
	Name = "Ship Speed",
	Range = {0, 100},
	Increment = 1,
	Suffix = "Max Speed",
	CurrentValue = 0,
	Flag = "Slider1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").SeatPart.Parent:FindFirstChild("Main"):SetAttribute("maxSpeed", Value)-- The function that takes place when the slider changes
	end,
})

local Slider = ShipTab:CreateSlider({
	Name = "Ship Acceleration",
	Range = {0, 150},
	Increment = 1,
	Suffix = "Max Acceleration",
	CurrentValue = 0,
	Flag = "Slider2",
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").SeatPart.Parent:FindFirstChild("Main"):SetAttribute("acceleration", Value)
	end,
})

local Slider = ShipTab:CreateSlider({
	Name = "Ship Deceleration",
	Range = {0, 100},
	Increment = 1,
	Suffix = "Max Deceleration",
	CurrentValue = 0,
	Flag = "Slider3",
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").SeatPart.Parent:FindFirstChild("Main"):SetAttribute("deceleration", Value)
	end,
})


local Slider = ShipTab:CreateSlider({
	Name = "Ship Agility",
	Range = {0, 100},
	Increment = 1,
	Suffix = "Max Agility",
	CurrentValue = 0,
	Flag = "Slider4",
	Callback = function(Value)
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").SeatPart.Parent:FindFirstChild("Main"):SetAttribute("agility", Value)
	end,		
})

local Label = ShipTab:CreateLabel("Kuiper Belt Speed Loop (Value 0 To Stop Loop)", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local speedLoopConnection
local currentSpeedValue = 0 -- Keep track of latest slider value

local Slider = ShipTab:CreateSlider({
	Name = "Ship Speed",
	Range = {0, 100},
	Increment = 1,
	Suffix = "Loop Speed",
	CurrentValue = 0,
	Flag = "Slider5",
	Callback = function(Value)
		currentSpeedValue = Value

		local seat = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").SeatPart
		local main = seat and seat.Parent and seat.Parent:FindFirstChild("Main")
		if not main then return end

		local linearVelocity = main:FindFirstChildOfClass("LinearVelocity")
		if not linearVelocity then return end

		if Value <= 0 then
			if speedLoopConnection then
				speedLoopConnection:Disconnect()
				speedLoopConnection = nil
			end
			linearVelocity.VectorVelocity = Vector3.zero
			return
		end

		-- Start loop if not already started
		if not speedLoopConnection then
			speedLoopConnection = game:GetService("RunService").Heartbeat:Connect(function()
				linearVelocity.VectorVelocity = Vector3.new(currentSpeedValue, 0, 0)
			end)
		end
	end
})

local Toggle = ShipTab:CreateToggle({
	Name = "Ship Function Modifier Menu",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		ShipMovements.Enabled = Value
	end
})

--Client Settings Functions

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Instant Speed Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("InstantSpeedGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Instant Brake Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("InstantBrakeGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Music Player Gamepass",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("MusicPlayerGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Ship Lock Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("ShipLockGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Enable InGroup (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("inGroup", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Vortex Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("VortexGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Quantum Drill Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("QuantumDrillGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock VIP Chat Icon (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("vip", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Horn Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("HornGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Unlock Double Xp Gamepass (Client Side)",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("DoubleXpGP", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Anti-Planet Entry On",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("station", true)-- The function that takes place when the button is pressed
	end,
})

local Button = CSettingsTab:CreateButton({
	Name = "Anti-Planet Entry Off",
	Callback = function()
		game.Players.LocalPlayer:SetAttribute("station", false)-- The function that takes place when the button is pressed
	end,
})

--Other Functions

local function firePrompt(prompt)
	if typeof(prompt) == "Instance" and prompt:IsA("ProximityPrompt") then
		-- fireproximityprompt is a global function in Roblox
		fireproximityprompt(prompt)
	else
		warn("Provided object is not a ProximityPrompt!")
	end
end

local Button = OtherTab:CreateButton({
	Name = "Open Hubble Telescope",
	Callback = function()
		local prompt = workspace:WaitForChild("Planetoids"):WaitForChild("Hubble"):WaitForChild("ControlPanel"):FindFirstChildOfClass("ProximityPrompt")
		if prompt then
			firePrompt(prompt)
		end
	end,
})

local AntiCheatHideFrameButton

local dialogGui = game.Players.LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("DialogGui")
local cleanerOn = false
local cleanerConnection = nil

toggleButton = OtherTab:CreateButton({
	Name = "Anti-Cheat Warning Frame: Show",
	Callback = function()
		cleanerOn = not cleanerOn

		if cleanerOn then
			toggleButton:Set("Anti-Cheat Warning Frame: Hide") -- show "Hide" when enabled

			-- Start cleaning loop
			cleanerConnection = RunService.RenderStepped:Connect(function()
				if not dialogGui then return end

				local dialogsFrame = dialogGui:FindFirstChild("DialogsFrames")
				if dialogsFrame then
					for _, child in ipairs(dialogsFrame:GetChildren()) do
						if child:IsA("Frame") then
							child:Destroy()
						end
					end
				end
			end)

		else
			toggleButton:Set("Anti-Cheat Warning Frame: Show") -- show "Show" when disabled

			-- Stop cleaning loop
			if cleanerConnection then
				cleanerConnection:Disconnect()
				cleanerConnection = nil
			end
		end
	end
})

local Button = OtherTab:CreateButton({
	Name = "Clean Rocks Asteroids",
	Callback = function()
		local rocks = workspace:WaitForChild("Rocks")
		for _, child in ipairs(rocks:GetChildren()) do
			child:Destroy()
		end
	end,
})

local Button

Button = OtherTab:CreateButton({
	Name = "Destroy Client (Stop The Main Functions)",
	Callback = function()
		local skin = workspace:WaitForChild("Planets"):WaitForChild("Eris"):WaitForChild("Skin")
		if skin then
			skin:Destroy()
		end

		-- Change button text after action
		Button:Set("Game Client Destroyed. Please Rejoin")
	end,
})

-- ESP

local SpaceHubESPFolder = Instance.new("Folder")
SpaceHubESPFolder.Name = "SpaceHubESP"
SpaceHubESPFolder.Parent = CoreGui

-- Rocket

local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local ROCKET_LINE_THICKNESS = 1
local ROCKET_OFFSET_Y = 40

for _, RocketGuiName in ipairs({ "RocketLines", "RocketBoxes", "RocketNames" }) do
	local RocketOldGui = CoreGui:FindFirstChild(RocketGuiName)
	if RocketOldGui then
		RocketOldGui:Destroy()
	end
end

local RocketLineGui = Instance.new("ScreenGui")
RocketLineGui.Name = "RocketLines"
RocketLineGui.IgnoreGuiInset = true
RocketLineGui.DisplayOrder = 1000
RocketLineGui.ResetOnSpawn = false
RocketLineGui.Parent = SpaceHubESPFolder
RocketLineGui.Enabled = false
RocketLineGui.Enabled = false

local RocketBoxGui = Instance.new("ScreenGui")
RocketBoxGui.Name = "RocketBoxes"
RocketBoxGui.IgnoreGuiInset = true
RocketBoxGui.DisplayOrder = 1001
RocketBoxGui.ResetOnSpawn = false
RocketBoxGui.Parent = SpaceHubESPFolder
RocketBoxGui.Enabled = false

local RocketNameGui = Instance.new("ScreenGui")
RocketNameGui.Name = "RocketNames"
RocketNameGui.IgnoreGuiInset = true
RocketNameGui.DisplayOrder = 1002
RocketNameGui.ResetOnSpawn = false
RocketNameGui.Parent = SpaceHubESPFolder
RocketNameGui.Enabled = false

local RocketTrackedModels = {}

local function makeRocketLine()
	local RocketLine = Instance.new("Frame")
	RocketLine.Size = UDim2.fromOffset(10, ROCKET_LINE_THICKNESS)
	RocketLine.AnchorPoint = Vector2.new(0.5, 0.5)
	RocketLine.BorderSizePixel = 0
	RocketLine.BackgroundColor3 = Color3.fromRGB(255,255,255)
	RocketLine.Visible = false
	RocketLine.Parent = RocketLineGui
	return RocketLine
end

local function makeRocketBox()
	local RocketBox = Instance.new("Frame")
	RocketBox.AnchorPoint = Vector2.new(0.5, 0.5)
	RocketBox.BackgroundTransparency = 1
	RocketBox.Visible = false
	RocketBox.Parent = RocketBoxGui

	local RocketBoxAspect = Instance.new("UIAspectRatioConstraint")
	RocketBoxAspect.AspectRatio = 1
	RocketBoxAspect.Parent = RocketBox

	local RocketBoxStroke = Instance.new("UIStroke")
	RocketBoxStroke.Thickness = 1.5
	RocketBoxStroke.Color = Color3.fromRGB(255,255,255)
	RocketBoxStroke.Parent = RocketBox

	return RocketBox
end

local function makeRocketNameLabel()
	local RocketNameLabel = Instance.new("TextLabel")
	RocketNameLabel.AnchorPoint = Vector2.new(0.5, 1)
	RocketNameLabel.BackgroundTransparency = 1
	RocketNameLabel.TextColor3 = Color3.fromRGB(255,255,255)
	RocketNameLabel.TextScaled = true
	RocketNameLabel.Font = Enum.Font.Gotham
	RocketNameLabel.Visible = false
	RocketNameLabel.Parent = RocketNameGui

	local RocketNameAspect = Instance.new("UIAspectRatioConstraint")
	RocketNameAspect.AspectRatio = 5
	RocketNameAspect.Parent = RocketNameLabel

	return RocketNameLabel
end

local function getModelPosition(model)
	local main = model:FindFirstChild("Main")
	if main and main:IsA("BasePart") then
		return main.Position
	end
	local cf,_ = model:GetBoundingBox()
	return cf.Position
end

local function addRocketModel(model)
	if model:IsA("Model") and not RocketTrackedModels[model] then
		RocketTrackedModels[model] = {
			RocketLine = makeRocketLine(),
			RocketBox = makeRocketBox(),
			RocketNameLabel = makeRocketNameLabel()
		}
	end
end

local function bindRockets(rockets)
	for _, m in ipairs(rockets:GetChildren()) do
		addRocketModel(m)
	end
	rockets.ChildAdded:Connect(addRocketModel)
end

local rockets = workspace:FindFirstChild("Rockets")
if rockets then
	bindRockets(rockets)
end

workspace.ChildAdded:Connect(function(obj)
	if obj.Name == "Rockets" then
		bindRockets(obj)
	end
end)

RunService.RenderStepped:Connect(function()
	local RocketViewport = Camera.ViewportSize
	local RocketSourceX = RocketViewport.X / 2
	local RocketSourceY = ROCKET_OFFSET_Y

	for model, RocketData in pairs(RocketTrackedModels) do
		local RocketLine = RocketData.RocketLine
		local RocketBox = RocketData.RocketBox
		local RocketNameLabel = RocketData.RocketNameLabel

		local localPlayerSeat = LocalPlayer.Character
			and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
			and LocalPlayer.Character:FindFirstChildOfClass("Humanoid").SeatPart
		local hideForLocal = localPlayerSeat and localPlayerSeat:IsDescendantOf(model)

		if model.Parent and not hideForLocal then
			local RocketWorldPos = getModelPosition(model)
			local RocketScreenPos, RocketVisible = Camera:WorldToViewportPoint(RocketWorldPos)

			if RocketVisible then
				local RocketDX = RocketScreenPos.X - RocketSourceX
				local RocketDY = RocketScreenPos.Y - RocketSourceY
				local RocketDistance = math.sqrt(RocketDX^2 + RocketDY^2)

				RocketLine.Visible = true
				RocketLine.Size = UDim2.fromOffset(RocketDistance, ROCKET_LINE_THICKNESS)
				RocketLine.Position = UDim2.fromOffset((RocketScreenPos.X + RocketSourceX)/2, (RocketScreenPos.Y + RocketSourceY)/2)
				RocketLine.Rotation = math.deg(math.atan2(RocketDY, RocketDX))

				local RocketScale = math.clamp(RocketScreenPos.Z / 400, 0.01, 0.045)
				RocketBox.Visible = true
				RocketBox.Position = UDim2.fromOffset(RocketScreenPos.X, RocketScreenPos.Y)
				RocketBox.Size = UDim2.fromScale(RocketScale, RocketScale)

				local launchMode = model:GetAttribute("launchMode")
				local isShuttle = model:GetAttribute("destinationNum") ~= nil
				local color = Color3.fromRGB(255,255,255)

				if launchMode then
					color = Color3.fromRGB(255,255,0)
				elseif isShuttle then
					color = Color3.fromRGB(0,170,255)
				end

				RocketLine.BackgroundColor3 = color
				if RocketBox:FindFirstChildWhichIsA("UIStroke") then
					RocketBox:FindFirstChildWhichIsA("UIStroke").Color = color
				end

				if RocketNameLabel then
					local RocketDistText = math.floor((Camera.CFrame.Position - RocketWorldPos).Magnitude)
					local RocketText

					if isShuttle then
						RocketText = "Shuttle | "..RocketDistText.." studs"
					elseif launchMode then
						local ownerName = "No One Owned"
						local ownerId = model:GetAttribute("lastPilotId")
						if ownerId and ownerId ~= 0 then
							local player = Players:GetPlayerByUserId(ownerId)
							if player then
								ownerName = player.DisplayName
							end
						end
						RocketText = ownerName.."'s Ship | "..RocketDistText.." studs | Launching"
					else
						local ownerName = "No One Owned"
						local ownerId = model:GetAttribute("lastPilotId")
						if ownerId and ownerId ~= 0 then
							local player = Players:GetPlayerByUserId(ownerId)
							if player then
								ownerName = player.DisplayName
							end
						end
						RocketText = ownerName.."'s Ship | "..RocketDistText.." studs"
					end

					RocketNameLabel.Text = RocketText
					RocketNameLabel.Position = UDim2.fromOffset(RocketScreenPos.X, RocketScreenPos.Y - 10)
					local RocketLabelScale = math.clamp(RocketScreenPos.Z / 400, 0.1, 0.1)
					RocketNameLabel.Size = UDim2.fromScale(RocketLabelScale, RocketLabelScale)
					RocketNameLabel.Visible = true
				end
			else
				RocketLine.Visible = false
				RocketBox.Visible = false
				if RocketNameLabel then RocketNameLabel.Visible = false end
			end
		else
			RocketLine.Visible = false
			RocketBox.Visible = false
			if RocketNameLabel then RocketNameLabel.Visible = false end
		end
	end
end)


-- UFO

local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")

local UFO_LINE_THICKNESS = 1
local UFO_OFFSET_Y = 40
local UFO_DEFAULT_COLOR = Color3.fromRGB(0, 200, 0)

for _, UFOGuiName in ipairs({ "UFOLines", "UFOBoxes", "UFONames" }) do
	local UFOOldGui = CoreGui:FindFirstChild(UFOGuiName)
	if UFOOldGui then
		UFOOldGui:Destroy()
	end
end

local UFOLineGui = Instance.new("ScreenGui")
UFOLineGui.Name = "UFOLines"
UFOLineGui.IgnoreGuiInset = true
UFOLineGui.DisplayOrder = 1000
UFOLineGui.ResetOnSpawn = false
UFOLineGui.Parent = SpaceHubESPFolder
UFOLineGui.Enabled = false

local UFOBoxGui = Instance.new("ScreenGui")
UFOBoxGui.Name = "UFOBoxes"
UFOBoxGui.IgnoreGuiInset = true
UFOBoxGui.DisplayOrder = 1001
UFOBoxGui.ResetOnSpawn = false
UFOBoxGui.Parent = SpaceHubESPFolder
UFOBoxGui.Enabled = false

local UFONameGui = Instance.new("ScreenGui")
UFONameGui.Name = "UFONames"
UFONameGui.IgnoreGuiInset = true
UFONameGui.DisplayOrder = 1002
UFONameGui.ResetOnSpawn = false
UFONameGui.Parent = SpaceHubESPFolder
UFONameGui.Enabled = false

local UFOTrackedModels = {}

local function makeUFOLineFrame()
	local UFOLineFrame = Instance.new("Frame")
	UFOLineFrame.Size = UDim2.fromOffset(10, UFO_LINE_THICKNESS)
	UFOLineFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	UFOLineFrame.BorderSizePixel = 0
	UFOLineFrame.BackgroundColor3 = UFO_DEFAULT_COLOR
	UFOLineFrame.Visible = false
	UFOLineFrame.Parent = UFOLineGui
	return UFOLineFrame
end

local function makeUFOBoxFrame()
	local UFOBoxFrame = Instance.new("Frame")
	UFOBoxFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	UFOBoxFrame.BackgroundTransparency = 1
	UFOBoxFrame.Visible = false
	UFOBoxFrame.Parent = UFOBoxGui

	local UFOBoxAspect = Instance.new("UIAspectRatioConstraint")
	UFOBoxAspect.AspectRatio = 1
	UFOBoxAspect.Parent = UFOBoxFrame

	local UFOBoxStroke = Instance.new("UIStroke")
	UFOBoxStroke.Thickness = 1.5
	UFOBoxStroke.Color = UFO_DEFAULT_COLOR
	UFOBoxStroke.Parent = UFOBoxFrame

	return UFOBoxFrame
end

local function makeUFONameLabel()
	local UFONameLabel = Instance.new("TextLabel")
	UFONameLabel.AnchorPoint = Vector2.new(0.5, 1)
	UFONameLabel.BackgroundTransparency = 1
	UFONameLabel.TextColor3 = UFO_DEFAULT_COLOR
	UFONameLabel.TextScaled = true
	UFONameLabel.Font = Enum.Font.Gotham
	UFONameLabel.Visible = false
	UFONameLabel.Parent = UFONameGui

	local UFONameAspect = Instance.new("UIAspectRatioConstraint")
	UFONameAspect.AspectRatio = 5
	UFONameAspect.Parent = UFONameLabel

	return UFONameLabel
end

local function ufogetModelPosition(model)
	local main = model:FindFirstChild("Main")
	if main and main:IsA("BasePart") then
		return main.Position
	end
	local cf,_ = model:GetBoundingBox()
	return cf.Position
end

local function isPlayerSittingOnModel(model)
	for _, player in pairs(Players:GetPlayers()) do
		if player.Character then
			local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
			if humanoid then
				local seat = humanoid.SeatPart
				if seat and seat:IsDescendantOf(model) then
					return true
				end
			end
		end
	end
	return false
end

local function addUFOModel(model)
	if model:IsA("Model") and not UFOTrackedModels[model] then
		UFOTrackedModels[model] = {
			UFOLineFrame = makeUFOLineFrame(),
			UFOBoxFrame = makeUFOBoxFrame(),
			UFONameLabel = makeUFONameLabel()
		}
	end
end

local function bindSpecialRockets(specialRockets)
	for _, m in ipairs(specialRockets:GetChildren()) do
		addUFOModel(m)
	end
	specialRockets.ChildAdded:Connect(addUFOModel)
end

local specialRockets = workspace:FindFirstChild("SpecialRockets")
if specialRockets then
	bindSpecialRockets(specialRockets)
end

workspace.ChildAdded:Connect(function(obj)
	if obj.Name == "SpecialRockets" then
		bindSpecialRockets(obj)
	end
end)

RunService.RenderStepped:Connect(function()
	local UFOViewport = Camera.ViewportSize
	local UFOSourceX = UFOViewport.X / 2
	local UFOSourceY = UFO_OFFSET_Y

	for model, UFOData in pairs(UFOTrackedModels) do
		local UFOLineFrame = UFOData.UFOLineFrame
		local UFOBoxFrame = UFOData.UFOBoxFrame
		local UFONameLabel = UFOData.UFONameLabel

		if model.Parent and not isPlayerSittingOnModel(model) then
			local UFOWorldPos = ufogetModelPosition(model)
			local UFOScreenPos, UFOVisible = Camera:WorldToViewportPoint(UFOWorldPos)

			if UFOVisible then
				local UFODX = UFOScreenPos.X - UFOSourceX
				local UFODY = UFOScreenPos.Y - UFOSourceY
				local UFODistance = math.sqrt(UFODX^2 + UFODY^2)

				UFOLineFrame.Visible = true
				UFOLineFrame.Size = UDim2.fromOffset(UFODistance, UFO_LINE_THICKNESS)
				UFOLineFrame.Position = UDim2.fromOffset((UFOScreenPos.X + UFOSourceX)/2, (UFOScreenPos.Y + UFOSourceY)/2)
				UFOLineFrame.Rotation = math.deg(math.atan2(UFODY, UFODX))

				local UFOScale = math.clamp(UFOScreenPos.Z / 400, 0.01, 0.045)
				UFOBoxFrame.Visible = true
				UFOBoxFrame.Position = UDim2.fromOffset(UFOScreenPos.X, UFOScreenPos.Y)
				UFOBoxFrame.Size = UDim2.fromScale(UFOScale, UFOScale)

				if UFONameLabel then
					local UFODistanceText = math.floor((Camera.CFrame.Position - UFOWorldPos).Magnitude)
					local UFOName = (model.Name == "AlienShip1" and "UFO 1") or (model.Name == "AlienShip2" and "UFO 2") or model.Name
					local UFOSpeed = model:GetAttribute("speedNeeded") or 0

					local UFOCargoFolder = model:FindFirstChild("Cargo")
					local UFOCargoText = "None"
					if UFOCargoFolder then
						local items = {}
						for _, cfg in ipairs(UFOCargoFolder:GetChildren()) do
							table.insert(items, cfg.Name)
						end
						if #items > 0 then
							UFOCargoText = table.concat(items, ", ")
						end
					end

					UFONameLabel.Text = UFOName.." | "..UFODistanceText.." studs | Speed: "..UFOSpeed.." | Cargo: "..UFOCargoText
					UFONameLabel.Position = UDim2.fromOffset(UFOScreenPos.X, UFOScreenPos.Y - 12.5)
					local UFONameLabelScale = math.clamp(UFOScreenPos.Z / 400, 0.1, 0.1)
					UFONameLabel.Size = UDim2.fromScale(UFONameLabelScale, UFONameLabelScale)
					UFONameLabel.Visible = true
				end
			else
				UFOLineFrame.Visible = false
				UFOBoxFrame.Visible = false
				if UFONameLabel then UFONameLabel.Visible = false end
			end
		else
			UFOLineFrame.Visible = false
			UFOBoxFrame.Visible = false
			if UFONameLabel then UFONameLabel.Visible = false end
		end
	end
end)

-- Orb

local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local CoreGui = game:GetService("CoreGui")

local ORB_LINE_THICKNESS = 1
local ORB_OFFSET_Y = 40
local ORB_DEFAULT_COLOR = Color3.fromRGB(170,170,255)

for _, OrbGuiName in ipairs({ "OrbLines", "OrbBoxes", "OrbNames" }) do
	local OrbOldGui = CoreGui:FindFirstChild(OrbGuiName)
	if OrbOldGui then
		OrbOldGui:Destroy()
	end
end

local OrbLineGui = Instance.new("ScreenGui")
OrbLineGui.Name = "OrbLines"
OrbLineGui.IgnoreGuiInset = true
OrbLineGui.DisplayOrder = 1000
OrbLineGui.ResetOnSpawn = false
OrbLineGui.Parent = SpaceHubESPFolder
OrbLineGui.Enabled = false

local OrbBoxGui = Instance.new("ScreenGui")
OrbBoxGui.Name = "OrbBoxes"
OrbBoxGui.IgnoreGuiInset = true
OrbBoxGui.DisplayOrder = 1001
OrbBoxGui.ResetOnSpawn = false
OrbBoxGui.Parent = SpaceHubESPFolder
OrbBoxGui.Enabled = false

local OrbNameGui = Instance.new("ScreenGui")
OrbNameGui.Name = "OrbNames"
OrbNameGui.IgnoreGuiInset = true
OrbNameGui.DisplayOrder = 1002
OrbNameGui.ResetOnSpawn = false
OrbNameGui.Parent = SpaceHubESPFolder
OrbNameGui.Enabled = false

local OrbTrackedParts = {}

local function makeOrbLineFrame()
	local OrbLineFrame = Instance.new("Frame")
	OrbLineFrame.Size = UDim2.fromOffset(10, ORB_LINE_THICKNESS)
	OrbLineFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	OrbLineFrame.BorderSizePixel = 0
	OrbLineFrame.BackgroundColor3 = ORB_DEFAULT_COLOR
	OrbLineFrame.Visible = false
	OrbLineFrame.Parent = OrbLineGui
	return OrbLineFrame
end

local function makeOrbBoxFrame()
	local OrbBoxFrame = Instance.new("Frame")
	OrbBoxFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	OrbBoxFrame.BackgroundTransparency = 1
	OrbBoxFrame.Visible = false
	OrbBoxFrame.Parent = OrbBoxGui

	local OrbBoxAspect = Instance.new("UIAspectRatioConstraint")
	OrbBoxAspect.AspectRatio = 1
	OrbBoxAspect.Parent = OrbBoxFrame

	local OrbBoxStroke = Instance.new("UIStroke")
	OrbBoxStroke.Thickness = 1.5
	OrbBoxStroke.Color = ORB_DEFAULT_COLOR
	OrbBoxStroke.Parent = OrbBoxFrame

	return OrbBoxFrame
end

local function makeOrbNameTextLabel()
	local OrbNameTextLabel = Instance.new("TextLabel")
	OrbNameTextLabel.AnchorPoint = Vector2.new(0.5, 1)
	OrbNameTextLabel.BackgroundTransparency = 1
	OrbNameTextLabel.TextColor3 = ORB_DEFAULT_COLOR
	OrbNameTextLabel.TextScaled = true
	OrbNameTextLabel.Font = Enum.Font.Gotham
	OrbNameTextLabel.Visible = false
	OrbNameTextLabel.Parent = OrbNameGui

	local OrbNameAspect = Instance.new("UIAspectRatioConstraint")
	OrbNameAspect.AspectRatio = 5
	OrbNameAspect.Parent = OrbNameTextLabel

	return OrbNameTextLabel
end

local function addOrbPart(OrbPart)
	if OrbPart:IsA("BasePart")
		and OrbPart.Name:match("Orb$")
		and not OrbTrackedParts[OrbPart] then

		local OrbHitpoints = OrbPart:GetAttribute("hitpoints") or 0
		if OrbHitpoints > 0 then
			OrbTrackedParts[OrbPart] = {
				OrbLineFrame = makeOrbLineFrame(),
				OrbBoxFrame = makeOrbBoxFrame(),
				OrbNameLabel = makeOrbNameTextLabel()
			}
		end
	end
end

local function bindOrbPlanets(OrbPlanetsFolder)
	for _, OrbPlanet in ipairs(OrbPlanetsFolder:GetChildren()) do
		local OrbMinerals = OrbPlanet:FindFirstChild("Minerals")
		if OrbMinerals then
			for _, OrbPart in ipairs(OrbMinerals:GetChildren()) do
				addOrbPart(OrbPart)
			end
			OrbMinerals.ChildAdded:Connect(addOrbPart)
		end
	end
end

local OrbPlanetsRoot = workspace:FindFirstChild("Planets")
if OrbPlanetsRoot then
	bindOrbPlanets(OrbPlanetsRoot)
end

workspace.ChildAdded:Connect(function(OrbChild)
	if OrbChild.Name == "Planets" then
		bindOrbPlanets(OrbChild)
	end
end)

RunService.RenderStepped:Connect(function()
	local OrbViewport = Camera.ViewportSize
	local OrbSourceX = OrbViewport.X / 2
	local OrbSourceY = ORB_OFFSET_Y

	for OrbPart, OrbData in pairs(OrbTrackedParts) do
		local OrbLineFrame = OrbData.OrbLineFrame
		local OrbBoxFrame = OrbData.OrbBoxFrame
		local OrbNameLabel = OrbData.OrbNameLabel

		if OrbPart.Parent then
			local OrbWorldPos = OrbPart.Position
			local OrbScreenPos, OrbVisible =
				Camera:WorldToViewportPoint(OrbWorldPos)

			if OrbVisible then
				local OrbDX = OrbScreenPos.X - OrbSourceX
				local OrbDY = OrbScreenPos.Y - OrbSourceY
				local OrbDistance = math.sqrt(OrbDX^2 + OrbDY^2)

				OrbLineFrame.Visible = true
				OrbLineFrame.Size =
					UDim2.fromOffset(OrbDistance, ORB_LINE_THICKNESS)
				OrbLineFrame.Position = UDim2.fromOffset(
					(OrbScreenPos.X + OrbSourceX) / 2,
					(OrbScreenPos.Y + OrbSourceY) / 2
				)
				OrbLineFrame.Rotation =
					math.deg(math.atan2(OrbDY, OrbDX))

				local OrbScale =
					math.clamp(OrbScreenPos.Z / 400, 0.01, 0.03)
				OrbBoxFrame.Visible = true
				OrbBoxFrame.Position =
					UDim2.fromOffset(OrbScreenPos.X, OrbScreenPos.Y)
				OrbBoxFrame.Size =
					UDim2.fromScale(OrbScale, OrbScale)

				local OrbDistanceText =
					math.floor((Camera.CFrame.Position - OrbWorldPos).Magnitude)

				OrbNameLabel.Text =
					OrbPart.Name .. " | " .. OrbDistanceText .. " studs"
				OrbNameLabel.Position =
					UDim2.fromOffset(OrbScreenPos.X, OrbScreenPos.Y - 10)

				local OrbLabelScale =
					math.clamp(OrbScreenPos.Z / 400, 0.1, 0.125)
				OrbNameLabel.Size =
					UDim2.fromScale(OrbLabelScale, OrbLabelScale)
				OrbNameLabel.Visible = true
			else
				OrbLineFrame.Visible = false
				OrbBoxFrame.Visible = false
				OrbNameLabel.Visible = false
			end
		else
			OrbLineFrame.Visible = false
			OrbBoxFrame.Visible = false
			OrbNameLabel.Visible = false
		end
	end
end)

-- Resources 

local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local RESOURCE_LINE_THICKNESS = 1
local RESOURCE_OFFSET_Y = 40

local RESOURCE_COLOR_GRAY = Color3.fromRGB(170,170,170)
local RESOURCE_COLOR_YELLOW = Color3.fromRGB(255,255,0)
local RESOURCE_COLOR_RED = Color3.fromRGB(255,0,0)

for _, ResourceGuiName in ipairs({ "ResourceLines", "ResourceBoxes", "ResourceNames" }) do
	local ResourceOldGui = CoreGui:FindFirstChild(ResourceGuiName)
	if ResourceOldGui then
		ResourceOldGui:Destroy()
	end
end

local ResourceLineGui = Instance.new("ScreenGui")
ResourceLineGui.Name = "ResourceLines"
ResourceLineGui.IgnoreGuiInset = true
ResourceLineGui.DisplayOrder = 1000
ResourceLineGui.ResetOnSpawn = false
ResourceLineGui.Parent = SpaceHubESPFolder
ResourceLineGui.Enabled = false

local ResourceBoxGui = Instance.new("ScreenGui")
ResourceBoxGui.Name = "ResourceBoxes"
ResourceBoxGui.IgnoreGuiInset = true
ResourceBoxGui.DisplayOrder = 1001
ResourceBoxGui.ResetOnSpawn = false
ResourceBoxGui.Parent = SpaceHubESPFolder
ResourceBoxGui.Enabled = false

local ResourceNameGui = Instance.new("ScreenGui")
ResourceNameGui.Name = "ResourceNames"
ResourceNameGui.IgnoreGuiInset = true
ResourceNameGui.DisplayOrder = 1002
ResourceNameGui.ResetOnSpawn = false
ResourceNameGui.Parent = SpaceHubESPFolder
ResourceNameGui.Enabled = false

local ResourceTrackedParts = {}

local function getResourceHpColor(ResourceHP)
	if not ResourceHP then
		return RESOURCE_COLOR_GRAY
	elseif ResourceHP < 40 then
		return RESOURCE_COLOR_RED
	elseif ResourceHP < 60 then
		return RESOURCE_COLOR_YELLOW
	else
		return RESOURCE_COLOR_GRAY
	end
end

local function makeResourceLineFrame()
	local ResourceLineFrame = Instance.new("Frame")
	ResourceLineFrame.Size = UDim2.fromOffset(10, RESOURCE_LINE_THICKNESS)
	ResourceLineFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	ResourceLineFrame.BorderSizePixel = 0
	ResourceLineFrame.Visible = false
	ResourceLineFrame.Parent = ResourceLineGui
	return ResourceLineFrame
end

local function makeResourceBoxFrame()
	local ResourceBoxFrame = Instance.new("Frame")
	ResourceBoxFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	ResourceBoxFrame.BackgroundTransparency = 1
	ResourceBoxFrame.Visible = false
	ResourceBoxFrame.Parent = ResourceBoxGui

	local ResourceBoxAspect = Instance.new("UIAspectRatioConstraint")
	ResourceBoxAspect.AspectRatio = 1
	ResourceBoxAspect.Parent = ResourceBoxFrame

	local ResourceBoxStroke = Instance.new("UIStroke")
	ResourceBoxStroke.Thickness = 1.5
	ResourceBoxStroke.Parent = ResourceBoxFrame

	return ResourceBoxFrame
end

local function makeResourceNameTextLabel()
	local ResourceNameTextLabel = Instance.new("TextLabel")
	ResourceNameTextLabel.AnchorPoint = Vector2.new(0.5, 1)
	ResourceNameTextLabel.BackgroundTransparency = 1
	ResourceNameTextLabel.TextScaled = true
	ResourceNameTextLabel.Font = Enum.Font.Gotham
	ResourceNameTextLabel.Visible = false
	ResourceNameTextLabel.Parent = ResourceNameGui

	local ResourceNameAspect = Instance.new("UIAspectRatioConstraint")
	ResourceNameAspect.AspectRatio = 5
	ResourceNameAspect.Parent = ResourceNameTextLabel

	return ResourceNameTextLabel
end

local function addResourcePart(ResourcePart)
	if not ResourcePart:IsA("BasePart") then return end
	if ResourcePart.Name:match("Orb$") then return end
	if ResourceTrackedParts[ResourcePart] then return end

	ResourceTrackedParts[ResourcePart] = {
		ResourceLineFrame = makeResourceLineFrame(),
		ResourceBoxFrame = makeResourceBoxFrame(),
		ResourceNameLabel = makeResourceNameTextLabel(),
		ResourceParentPlanet = ResourcePart.Parent and ResourcePart.Parent.Parent
	}
end

local function bindResourcePlanets(ResourcePlanetsFolder)
	for _, ResourcePlanet in ipairs(ResourcePlanetsFolder:GetChildren()) do
		local ResourceMinerals = ResourcePlanet:FindFirstChild("Minerals")
		if ResourceMinerals then
			for _, ResourcePart in ipairs(ResourceMinerals:GetChildren()) do
				addResourcePart(ResourcePart)
			end
			ResourceMinerals.ChildAdded:Connect(addResourcePart)
		end
	end
end

local ResourcePlanetsRoot = workspace:FindFirstChild("Planets")
if ResourcePlanetsRoot then
	bindResourcePlanets(ResourcePlanetsRoot)
end

workspace.ChildAdded:Connect(function(ResourceChild)
	if ResourceChild.Name == "Planets" then
		bindResourcePlanets(ResourceChild)
	end
end)

RunService.RenderStepped:Connect(function()
	local ResourceViewport = Camera.ViewportSize
	local ResourceSourceX = ResourceViewport.X / 2
	local ResourceSourceY = RESOURCE_OFFSET_Y

	local ResourceCharacter = LocalPlayer.Character
	local ResourceHRP = ResourceCharacter and ResourceCharacter:FindFirstChild("HumanoidRootPart")
	if not ResourceHRP then return end

	for ResourcePart, ResourceData in pairs(ResourceTrackedParts) do
		local ResourceLineFrame = ResourceData.ResourceLineFrame
		local ResourceBoxFrame = ResourceData.ResourceBoxFrame
		local ResourceNameLabel = ResourceData.ResourceNameLabel
		local ResourcePlanet = ResourceData.ResourceParentPlanet
		local ResourceSkin = ResourcePlanet and ResourcePlanet:FindFirstChild("Skin")
		local ResourceHP = ResourcePart:GetAttribute("hitpoints")

		local ResourceInsideSkin = false
		if ResourceSkin and ResourceSkin:IsA("BasePart") then
			local ResourceRadius = ResourceSkin.Size.X / 2
			ResourceInsideSkin =
				(ResourceHRP.Position - ResourceSkin.Position).Magnitude <= ResourceRadius
		end

		if ResourcePart.Parent and ResourceSkin and ResourceHP and ResourceHP > 0 and ResourceInsideSkin then
			local ResourceScreenPos, ResourceVisible =
				Camera:WorldToViewportPoint(ResourcePart.Position)

			if ResourceVisible then
				local ResourceColor = getResourceHpColor(ResourceHP)

				ResourceLineFrame.BackgroundColor3 = ResourceColor
				ResourceBoxFrame.UIStroke.Color = ResourceColor
				ResourceNameLabel.TextColor3 = ResourceColor

				local ResourceDX = ResourceScreenPos.X - ResourceSourceX
				local ResourceDY = ResourceScreenPos.Y - ResourceSourceY
				local ResourceDistance = math.sqrt(ResourceDX^2 + ResourceDY^2)

				ResourceLineFrame.Visible = true
				ResourceLineFrame.Size =
					UDim2.fromOffset(ResourceDistance, RESOURCE_LINE_THICKNESS)
				ResourceLineFrame.Position = UDim2.fromOffset(
					(ResourceScreenPos.X + ResourceSourceX) / 2,
					(ResourceScreenPos.Y + ResourceSourceY) / 2
				)
				ResourceLineFrame.Rotation =
					math.deg(math.atan2(ResourceDY, ResourceDX))

				local ResourceScale =
					math.clamp(ResourceScreenPos.Z / 400, 0.01, 0.045)
				ResourceBoxFrame.Visible = true
				ResourceBoxFrame.Position =
					UDim2.fromOffset(ResourceScreenPos.X, ResourceScreenPos.Y)
				ResourceBoxFrame.Size =
					UDim2.fromScale(ResourceScale, ResourceScale)

				local ResourceIdName =
					ResourcePart:GetAttribute("idName") or ResourcePart.Name
				local ResourceDistText =
					math.floor((ResourceHRP.Position - ResourcePart.Position).Magnitude)

				ResourceNameLabel.Text =
					ResourceIdName .. " | " .. ResourceDistText .. " studs"
				ResourceNameLabel.Position =
					UDim2.fromOffset(ResourceScreenPos.X, ResourceScreenPos.Y - 12.5)
				ResourceNameLabel.Size = UDim2.fromScale(0.1, 0.1)
				ResourceNameLabel.Visible = true
			else
				ResourceLineFrame.Visible = false
				ResourceBoxFrame.Visible = false
				ResourceNameLabel.Visible = false
			end
		else
			ResourceLineFrame.Visible = false
			ResourceBoxFrame.Visible = false
			ResourceNameLabel.Visible = false
		end
	end
end)

-- Artifacts

local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local ARTIFACT_LINE_THICKNESS = 1
local ARTIFACT_OFFSET_Y = 40

local ARTIFACT_RARITY_COLORS = {
	Common = Color3.fromRGB(255,127,80),
	Rare = Color3.fromRGB(0,170,0),
	Epic = Color3.fromRGB(0,0,139),
	Legendary = Color3.fromRGB(255,170,0),
	Mythic = Color3.fromRGB(170,0,255)
}

for _, ArtifactGuiName in ipairs({ "ArtifactLines", "ArtifactBoxes", "ArtifactNames" }) do
	local ArtifactOldGui = CoreGui:FindFirstChild(ArtifactGuiName)
	if ArtifactOldGui then
		ArtifactOldGui:Destroy()
	end
end

local ArtifactLineGui = Instance.new("ScreenGui")
ArtifactLineGui.Name = "ArtifactLines"
ArtifactLineGui.IgnoreGuiInset = true
ArtifactLineGui.DisplayOrder = 1000
ArtifactLineGui.ResetOnSpawn = false
ArtifactLineGui.Parent = SpaceHubESPFolder
ArtifactLineGui.Enabled = false

local ArtifactBoxGui = Instance.new("ScreenGui")
ArtifactBoxGui.Name = "ArtifactBoxes"
ArtifactBoxGui.IgnoreGuiInset = true
ArtifactBoxGui.DisplayOrder = 1001
ArtifactBoxGui.ResetOnSpawn = false
ArtifactBoxGui.Parent = SpaceHubESPFolder
ArtifactBoxGui.Enabled = false

local ArtifactNameGui = Instance.new("ScreenGui")
ArtifactNameGui.Name = "ArtifactNames"
ArtifactNameGui.IgnoreGuiInset = true
ArtifactNameGui.DisplayOrder = 1002
ArtifactNameGui.ResetOnSpawn = false
ArtifactNameGui.Parent = SpaceHubESPFolder
ArtifactNameGui.Enabled = false

local ArtifactTrackedParts = {}

local function makeArtifactLineFrame()
	local ArtifactLineFrame = Instance.new("Frame")
	ArtifactLineFrame.Size = UDim2.fromOffset(10, ARTIFACT_LINE_THICKNESS)
	ArtifactLineFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	ArtifactLineFrame.BorderSizePixel = 0
	ArtifactLineFrame.Visible = false
	ArtifactLineFrame.Parent = ArtifactLineGui
	return ArtifactLineFrame
end

local function makeArtifactBoxFrame()
	local ArtifactBoxFrame = Instance.new("Frame")
	ArtifactBoxFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	ArtifactBoxFrame.BackgroundTransparency = 1
	ArtifactBoxFrame.Visible = false
	ArtifactBoxFrame.Parent = ArtifactBoxGui

	local ArtifactBoxAspect = Instance.new("UIAspectRatioConstraint")
	ArtifactBoxAspect.AspectRatio = 1
	ArtifactBoxAspect.Parent = ArtifactBoxFrame

	local ArtifactBoxStroke = Instance.new("UIStroke")
	ArtifactBoxStroke.Thickness = 1.5
	ArtifactBoxStroke.Parent = ArtifactBoxFrame

	return ArtifactBoxFrame
end

local function makeArtifactNameTextLabel()
	local ArtifactNameTextLabel = Instance.new("TextLabel")
	ArtifactNameTextLabel.AnchorPoint = Vector2.new(0.5, 1)
	ArtifactNameTextLabel.BackgroundTransparency = 1
	ArtifactNameTextLabel.TextScaled = true
	ArtifactNameTextLabel.Font = Enum.Font.Gotham
	ArtifactNameTextLabel.Visible = false
	ArtifactNameTextLabel.Parent = ArtifactNameGui

	local ArtifactNameAspect = Instance.new("UIAspectRatioConstraint")
	ArtifactNameAspect.AspectRatio = 5
	ArtifactNameAspect.Parent = ArtifactNameTextLabel

	return ArtifactNameTextLabel
end

local function getArtifactWorldPosition(ArtifactObject)
	if ArtifactObject:IsA("BasePart") then
		return ArtifactObject.Position
	end
	local ArtifactCF, _ = ArtifactObject:GetBoundingBox()
	return ArtifactCF.Position
end

local function addArtifactPart(ArtifactPart)
	if not ArtifactPart:IsA("BasePart") then return end
	if ArtifactTrackedParts[ArtifactPart] then return end

	ArtifactTrackedParts[ArtifactPart] = {
		ArtifactLineFrame = makeArtifactLineFrame(),
		ArtifactBoxFrame = makeArtifactBoxFrame(),
		ArtifactNameLabel = makeArtifactNameTextLabel(),
		ArtifactParentPlanet = ArtifactPart.Parent and ArtifactPart.Parent.Parent
	}
end

local function bindArtifactPlanets(ArtifactPlanetsFolder)
	for _, ArtifactPlanet in ipairs(ArtifactPlanetsFolder:GetChildren()) do
		local ArtifactFolder = ArtifactPlanet:FindFirstChild("Artifacts")
		if ArtifactFolder then
			for _, ArtifactPart in ipairs(ArtifactFolder:GetChildren()) do
				addArtifactPart(ArtifactPart)
			end
			ArtifactFolder.ChildAdded:Connect(addArtifactPart)
		end
	end
end

local ArtifactPlanetsRoot = workspace:FindFirstChild("Planets")
if ArtifactPlanetsRoot then
	bindArtifactPlanets(ArtifactPlanetsRoot)
end

workspace.ChildAdded:Connect(function(ArtifactChild)
	if ArtifactChild.Name == "Planets" then
		bindArtifactPlanets(ArtifactChild)
	end
end)

RunService.RenderStepped:Connect(function()
	local ArtifactViewport = Camera.ViewportSize
	local ArtifactSourceX = ArtifactViewport.X / 2
	local ArtifactSourceY = ARTIFACT_OFFSET_Y

	local ArtifactCharacter = LocalPlayer.Character
	local ArtifactHRP = ArtifactCharacter and ArtifactCharacter:FindFirstChild("HumanoidRootPart")
	if not ArtifactHRP then return end

	for ArtifactPart, ArtifactData in pairs(ArtifactTrackedParts) do
		local ArtifactLineFrame = ArtifactData.ArtifactLineFrame
		local ArtifactBoxFrame = ArtifactData.ArtifactBoxFrame
		local ArtifactNameLabel = ArtifactData.ArtifactNameLabel
		local ArtifactPlanet = ArtifactData.ArtifactParentPlanet
		local ArtifactSkin = ArtifactPlanet and ArtifactPlanet:FindFirstChild("Skin")

		local ArtifactInsideSkin = false
		if ArtifactSkin and ArtifactSkin:IsA("BasePart") then
			ArtifactInsideSkin =
				(ArtifactHRP.Position - ArtifactSkin.Position).Magnitude
				<= (ArtifactSkin.Size.X / 2)
		end

		if ArtifactPart.Parent and ArtifactInsideSkin then
			local ArtifactScreenPos, ArtifactVisible =
				Camera:WorldToViewportPoint(getArtifactWorldPosition(ArtifactPart))

			if ArtifactVisible then
				local ArtifactRarity = ArtifactPart:GetAttribute("rarity")
				local ArtifactColor =
					ARTIFACT_RARITY_COLORS[ArtifactRarity] or Color3.fromRGB(255,255,255)

				ArtifactLineFrame.BackgroundColor3 = ArtifactColor
				ArtifactBoxFrame.UIStroke.Color = ArtifactColor
				ArtifactNameLabel.TextColor3 = ArtifactColor

				local ArtifactDX = ArtifactScreenPos.X - ArtifactSourceX
				local ArtifactDY = ArtifactScreenPos.Y - ArtifactSourceY
				local ArtifactDistance = math.sqrt(ArtifactDX^2 + ArtifactDY^2)

				ArtifactLineFrame.Visible = true
				ArtifactLineFrame.Size = UDim2.fromOffset(ArtifactDistance, ARTIFACT_LINE_THICKNESS)
				ArtifactLineFrame.Position = UDim2.fromOffset(
					(ArtifactScreenPos.X + ArtifactSourceX) / 2,
					(ArtifactScreenPos.Y + ArtifactSourceY) / 2
				)
				ArtifactLineFrame.Rotation = math.deg(math.atan2(ArtifactDY, ArtifactDX))

				local ArtifactScale = math.clamp(ArtifactScreenPos.Z / 400, 0.01, 0.045)
				ArtifactBoxFrame.Visible = true
				ArtifactBoxFrame.Position =
					UDim2.fromOffset(ArtifactScreenPos.X, ArtifactScreenPos.Y)
				ArtifactBoxFrame.Size =
					UDim2.fromScale(ArtifactScale, ArtifactScale)

				local ArtifactType =
					ArtifactPart:GetAttribute("aType") or ArtifactPart.Name
				local ArtifactMass =
					ArtifactPart:GetAttribute("mass") or 0
				local ArtifactDistText =
					math.floor((ArtifactHRP.Position -
						getArtifactWorldPosition(ArtifactPart)).Magnitude)

				ArtifactNameLabel.Text =
					ArtifactType ..
					" | " .. ArtifactMass ..
					" Kg | " .. (ArtifactRarity or "Unknown") ..
					" | " .. ArtifactDistText .. " studs"

				ArtifactNameLabel.Position =
					UDim2.fromOffset(ArtifactScreenPos.X, ArtifactScreenPos.Y - 12.5)
				ArtifactNameLabel.Size = UDim2.fromScale(0.1, 0.1)
				ArtifactNameLabel.Visible = true
			else
				ArtifactLineFrame.Visible = false
				ArtifactBoxFrame.Visible = false
				ArtifactNameLabel.Visible = false
			end
		else
			ArtifactLineFrame.Visible = false
			ArtifactBoxFrame.Visible = false
			ArtifactNameLabel.Visible = false
		end
	end
end)

-- Centaur

local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local CoreGui = game:GetService("CoreGui")

local CENTAUR_LINE_THICKNESS = 1
local CENTAUR_OFFSET_Y = 40
local CENTAUR_DEFAULT_COLOR = Color3.fromRGB(255,170,127)

for _, CentaurGuiName in ipairs({ "CentaurLines", "CentaurBoxes", "CentaurNames" }) do
	local CentaurOldGui = CoreGui:FindFirstChild(CentaurGuiName)
	if CentaurOldGui then
		CentaurOldGui:Destroy()
	end
end

local CentaurLineGui = Instance.new("ScreenGui")
CentaurLineGui.Name = "CentaurLines"
CentaurLineGui.IgnoreGuiInset = true
CentaurLineGui.DisplayOrder = 1000
CentaurLineGui.ResetOnSpawn = false
CentaurLineGui.Parent = SpaceHubESPFolder
CentaurLineGui.Enabled = false

local CentaurBoxGui = Instance.new("ScreenGui")
CentaurBoxGui.Name = "CentaurBoxes"
CentaurBoxGui.IgnoreGuiInset = true
CentaurBoxGui.DisplayOrder = 1001
CentaurBoxGui.ResetOnSpawn = false
CentaurBoxGui.Parent = SpaceHubESPFolder
CentaurBoxGui.Enabled = false

local CentaurNameGui = Instance.new("ScreenGui")
CentaurNameGui.Name = "CentaurNames"
CentaurNameGui.IgnoreGuiInset = true
CentaurNameGui.DisplayOrder = 1002
CentaurNameGui.ResetOnSpawn = false
CentaurNameGui.Parent = SpaceHubESPFolder
CentaurNameGui.Enabled = false

local CentaurTrackedModels = {}

local function makeCentaurLineFrame()
	local CentaurLineFrame = Instance.new("Frame")
	CentaurLineFrame.Size = UDim2.fromOffset(10, CENTAUR_LINE_THICKNESS)
	CentaurLineFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	CentaurLineFrame.BorderSizePixel = 0
	CentaurLineFrame.BackgroundColor3 = CENTAUR_DEFAULT_COLOR
	CentaurLineFrame.Visible = false
	CentaurLineFrame.Parent = CentaurLineGui
	return CentaurLineFrame
end

local function makeCentaurBoxFrame()
	local CentaurBoxFrame = Instance.new("Frame")
	CentaurBoxFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	CentaurBoxFrame.BackgroundTransparency = 1
	CentaurBoxFrame.Visible = false
	CentaurBoxFrame.Parent = CentaurBoxGui

	local CentaurBoxAspect = Instance.new("UIAspectRatioConstraint")
	CentaurBoxAspect.AspectRatio = 1
	CentaurBoxAspect.Parent = CentaurBoxFrame

	local CentaurBoxStroke = Instance.new("UIStroke")
	CentaurBoxStroke.Thickness = 1.5
	CentaurBoxStroke.Color = CENTAUR_DEFAULT_COLOR
	CentaurBoxStroke.Parent = CentaurBoxFrame

	return CentaurBoxFrame
end

local function makeCentaurNameTextLabel()
	local CentaurNameTextLabel = Instance.new("TextLabel")
	CentaurNameTextLabel.AnchorPoint = Vector2.new(0.5, 1)
	CentaurNameTextLabel.BackgroundTransparency = 1
	CentaurNameTextLabel.TextColor3 = CENTAUR_DEFAULT_COLOR
	CentaurNameTextLabel.TextScaled = true
	CentaurNameTextLabel.Font = Enum.Font.Gotham
	CentaurNameTextLabel.Visible = false
	CentaurNameTextLabel.Parent = CentaurNameGui

	local CentaurNameAspect = Instance.new("UIAspectRatioConstraint")
	CentaurNameAspect.AspectRatio = 5
	CentaurNameAspect.Parent = CentaurNameTextLabel

	return CentaurNameTextLabel
end

local function getCentaurModelWorldPosition(CentaurModel)
	local CentaurCF, _ = CentaurModel:GetBoundingBox()
	return CentaurCF.Position
end

local function addCentaurModelToTrack(CentaurModel)
	if CentaurModel:IsA("Model") and not CentaurTrackedModels[CentaurModel] then
		CentaurTrackedModels[CentaurModel] = {
			CentaurLineFrame = makeCentaurLineFrame(),
			CentaurBoxFrame = makeCentaurBoxFrame(),
			CentaurNameLabel = makeCentaurNameTextLabel()
		}

		local CentaurMineralsFolder = CentaurModel:FindFirstChild("Minerals")
		if CentaurMineralsFolder then
			for _, CentaurMineral in ipairs(CentaurMineralsFolder:GetChildren()) do
				if CentaurMineral:GetAttribute("hitpoints") then
					CentaurMineral:GetAttributeChangedSignal("hitpoints"):Connect(function()
						local CentaurAlive = false
						for _, CentaurCheck in ipairs(CentaurMineralsFolder:GetChildren()) do
							local CentaurHP = CentaurCheck:GetAttribute("hitpoints")
							if type(CentaurHP) == "number" and CentaurHP > 0 then
								CentaurAlive = true
								break
							end
						end

						if not CentaurAlive then
							local CentaurData = CentaurTrackedModels[CentaurModel]
							CentaurData.CentaurLineFrame.Visible = false
							CentaurData.CentaurBoxFrame.Visible = false
							CentaurData.CentaurNameLabel.Visible = false
						end
					end)
				end
			end
		end
	end
end

local function bindCentaurFolder(CentaurFolder)
	for _, CentaurModel in ipairs(CentaurFolder:GetChildren()) do
		addCentaurModelToTrack(CentaurModel)
	end
	CentaurFolder.ChildAdded:Connect(addCentaurModelToTrack)
end

local function findCentaurRootFolder()
	local CentaurRoot = workspace:FindFirstChild("Centaurs")
	if CentaurRoot then
		bindCentaurFolder(CentaurRoot)
	end
end

findCentaurRootFolder()

workspace.ChildAdded:Connect(function(Child)
	if Child.Name == "Centaurs" then
		bindCentaurFolder(Child)
	end
end)

RunService.RenderStepped:Connect(function()
	local CentaurViewport = Camera.ViewportSize
	local CentaurSourceX = CentaurViewport.X / 2
	local CentaurSourceY = CENTAUR_OFFSET_Y

	for CentaurModel, CentaurData in pairs(CentaurTrackedModels) do
		local CentaurLineFrame = CentaurData.CentaurLineFrame
		local CentaurBoxFrame = CentaurData.CentaurBoxFrame
		local CentaurNameLabel = CentaurData.CentaurNameLabel

		if CentaurModel.Parent then
			local CentaurMineralsFolder = CentaurModel:FindFirstChild("Minerals")
			local CentaurHasAlive = false
			local CentaurResourcesText = "None"
			local CentaurColor = CENTAUR_DEFAULT_COLOR

			if CentaurMineralsFolder then
				local CentaurItems = {}
				for _, CentaurMineral in ipairs(CentaurMineralsFolder:GetChildren()) do
					local CentaurHP = CentaurMineral:GetAttribute("hitpoints")
					if type(CentaurHP) == "number" and CentaurHP > 0 then
						CentaurHasAlive = true
						table.insert(CentaurItems, CentaurMineral.Name)

						if CentaurMineral.Name == "Mythic Crate" then
							CentaurColor = Color3.fromRGB(128,0,128)
						elseif CentaurMineral.Name == "Legendary Crate" then
							CentaurColor = Color3.fromRGB(255,165,0)
						elseif CentaurMineral.Name == "Epic Crate" then
							CentaurColor = Color3.fromRGB(0,0,139)
						elseif CentaurMineral.Name == "Rare Crate" then
							CentaurColor = Color3.fromRGB(0,100,0)
						else
							CentaurColor = CENTAUR_DEFAULT_COLOR
						end
					end
				end

				if #CentaurItems > 0 then
					CentaurResourcesText = table.concat(CentaurItems, ", ")
				end
			end

			if CentaurHasAlive then
				local CentaurWorldPos = getCentaurModelWorldPosition(CentaurModel)
				local CentaurScreenPos, CentaurVisible = Camera:WorldToViewportPoint(CentaurWorldPos)

				if CentaurVisible then
					local CentaurDX = CentaurScreenPos.X - CentaurSourceX
					local CentaurDY = CentaurScreenPos.Y - CentaurSourceY
					local CentaurDistance = math.sqrt(CentaurDX^2 + CentaurDY^2)

					CentaurLineFrame.Visible = true
					CentaurLineFrame.Size = UDim2.fromOffset(CentaurDistance, CENTAUR_LINE_THICKNESS)
					CentaurLineFrame.Position = UDim2.fromOffset(
						(CentaurScreenPos.X + CentaurSourceX) / 2,
						(CentaurScreenPos.Y + CentaurSourceY) / 2
					)
					CentaurLineFrame.Rotation = math.deg(math.atan2(CentaurDY, CentaurDX))
					CentaurLineFrame.BackgroundColor3 = CentaurColor

					local CentaurScale = math.clamp(CentaurScreenPos.Z / 400, 0.01, 0.045)
					CentaurBoxFrame.Visible = true
					CentaurBoxFrame.Position = UDim2.fromOffset(CentaurScreenPos.X, CentaurScreenPos.Y)
					CentaurBoxFrame.Size = UDim2.fromScale(CentaurScale, CentaurScale)
					CentaurBoxFrame.UIStroke.Color = CentaurColor

					local CentaurDistanceText = math.floor(
						(Camera.CFrame.Position - CentaurWorldPos).Magnitude
					)

					CentaurNameLabel.Text =
						CentaurModel.Name ..
						" | " .. CentaurDistanceText ..
						" studs | Resources: " .. CentaurResourcesText

					CentaurNameLabel.Position = UDim2.fromOffset(
						CentaurScreenPos.X,
						CentaurScreenPos.Y - 12.5
					)
					CentaurNameLabel.Size = UDim2.fromScale(0.1, 0.1)
					CentaurNameLabel.Visible = true
				else
					CentaurLineFrame.Visible = false
					CentaurBoxFrame.Visible = false
					CentaurNameLabel.Visible = false
				end
			else
				CentaurLineFrame.Visible = false
				CentaurBoxFrame.Visible = false
				CentaurNameLabel.Visible = false
			end
		else
			CentaurLineFrame.Visible = false
			CentaurBoxFrame.Visible = false
			CentaurNameLabel.Visible = false
		end
	end
end)

-------------------------------------------------------------------------- end --------------------------------------

local Toggle = ESPTab:CreateToggle({
	Name = "Rockets ESP Lines",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		RocketLineGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Rockets ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle2",
	Callback = function(Value)
		RocketBoxGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Rockets ESP Informations",
	CurrentValue = false,
	Flag = "Toggle3",
	Callback = function(Value)
		RocketNameGui.Enabled = Value
	end
})

------------------------------------------------------

local Toggle = ESPTab:CreateToggle({
	Name = "UFO ESP Lines",
	CurrentValue = false,
	Flag = "Toggle4",
	Callback = function(Value)
		UFOLineGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "UFO ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle5",
	Callback = function(Value)
		UFOBoxGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "UFO ESP Infomations",
	CurrentValue = false,
	Flag = "Toggle6",
	Callback = function(Value)
		UFONameGui.Enabled = Value
	end
})

-----------------------------------------------------

local Toggle = ESPTab:CreateToggle({
	Name = "Centaurs ESP Lines",
	CurrentValue = false,
	Flag = "Toggle7",
	Callback = function(Value)
	CentaurLineGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Centaurs ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle8",
	Callback = function(Value)
		CentaurBoxGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Centaurs ESP Informations",
	CurrentValue = false,
	Flag = "Toggle9",
	Callback = function(Value)
		CentaurNameGui.Enabled = Value
	end
})

-----------------------------------------------------

local Toggle = ESPTab:CreateToggle({
	Name = "Orb ESP Lines",
	CurrentValue = false,
	Flag = "Toggle10",
	Callback = function(Value)
		OrbLineGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Orb ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle11",
	Callback = function(Value)
		OrbBoxGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Orb ESP Informations",
	CurrentValue = false,
	Flag = "Toggle12",
	Callback = function(Value)
		OrbNameGui.Enabled = Value
	end
})

-------------------------------------------------------------------

local Toggle = ESPTab:CreateToggle({
	Name = "Artifacts ESP Lines",
	CurrentValue = false,
	Flag = "Toggle13",
	Callback = function(Value)
		ArtifactLineGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Artifacts ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle14",
	Callback = function(Value)
		ArtifactBoxGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Artifacts ESP Informations",
	CurrentValue = false,
	Flag = "Toggle15",
	Callback = function(Value)
		ArtifactNameGui.Enabled = Value
	end
})

-----------------------------------------------------------------------------------

local Toggle = ESPTab:CreateToggle({
	Name = "Resouces ESP Lines",
	CurrentValue = false,
	Flag = "Toggle16",
	Callback = function(Value)
		ResourceLineGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Resouces ESP Boxes",
	CurrentValue = false,
	Flag = "Toggle17",
	Callback = function(Value)
		RocketBoxGui.Enabled = Value
	end
})

local Toggle = ESPTab:CreateToggle({
	Name = "Resouces ESP Informations",
	CurrentValue = false,
	Flag = "Toggle18",
	Callback = function(Value)
		ResourceNameGui.Enabled = Value
	end
})

-------------------------------------------------------------------------

local toggleConnection4

local Toggle4 = ESPTab:CreateToggle({
	Name = "Metallic Hydrogen ESP",
	CurrentValue = false,
	Flag = "Toggle4",
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")
		local planetsFolder = workspace:FindFirstChild("Planets")
		if not planetsFolder then return end

		if Value then
			toggleConnection4 = RunService.Heartbeat:Connect(function()
				for _, planetModel in pairs(planetsFolder:GetChildren()) do
					if planetModel:IsA("Model") then
						local planetName = planetModel.Name
						local minerals = planetModel:FindFirstChild("Minerals")
						if minerals then
							local mhPart = minerals:FindFirstChild("Metallic Hydrogen")

							if mhPart and mhPart:IsA("MeshPart") then
								local hitpoints = mhPart:GetAttribute("hitpoints")

								if typeof(hitpoints) == "number" and hitpoints > 0 then
									-- Only set to 1 if not already 1
									if hitpoints ~= 1 then
										mhPart:SetAttribute("hitpoints", 1)
									end

									if not mhPart:FindFirstChild("MHEsp") then
										local bb = Instance.new("BillboardGui")
										bb.Name = "MHEsp"
										bb.Size = UDim2.new(0, 80, 0, 20)
										bb.StudsOffset = Vector3.new(0, 3, 0)
										bb.Adornee = mhPart
										bb.AlwaysOnTop = true
										bb.Parent = mhPart

										local label = Instance.new("TextLabel")
										label.Size = UDim2.new(1, 0, 1, 0)
										label.BackgroundTransparency = 1
										label.TextColor3 = Color3.fromRGB(255, 170, 127)
										label.TextStrokeTransparency = 0.5
										label.TextScaled = true
										label.Font = Enum.Font.SourceSansBold
										label.Text = planetName .. " Metallic Hydrogen"
										label.Parent = bb
									end
								end
							end
						end
					end
				end
			end)
		else
			if toggleConnection4 then
				toggleConnection4:Disconnect()
				toggleConnection4 = nil
			end

			for _, planetModel in pairs(planetsFolder:GetChildren()) do
				if planetModel:IsA("Model") then
					local minerals = planetModel:FindFirstChild("Minerals")
					if minerals then
						local mhPart = minerals:FindFirstChild("Metallic Hydrogen")
						if mhPart and mhPart:IsA("MeshPart") then
							local existing = mhPart:FindFirstChild("MHEsp")
							if existing then
								existing:Destroy()
							end
						end
					end
				end
			end
		end
	end
})

local toggleConnection5

local Toggle5 = ESPTab:CreateToggle({
	Name = "Teleport to Hydrogen",
	CurrentValue = false,
	Flag = "Toggle5",
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")
		local humanoid = character:WaitForChild("Humanoid")
		local planetsFolder = workspace:FindFirstChild("Planets")
		if not planetsFolder then return end

		if Value then
			toggleConnection5 = RunService.Heartbeat:Connect(function()
				if humanoid.Sit then return end

				for _, planetModel in pairs(planetsFolder:GetChildren()) do
					if planetModel:IsA("Model") then
						local minerals = planetModel:FindFirstChild("Minerals")
						if minerals then
							local hydrogen = minerals:FindFirstChild("Metallic Hydrogen")

							if hydrogen and hydrogen:IsA("MeshPart") then
								local hitpoints = hydrogen:GetAttribute("hitpoints")
								if typeof(hitpoints) == "number" and hitpoints > 0 then
									local distance = (hydrogen.Position - hrp.Position).Magnitude
									if distance <= 150 then
										hrp.CFrame = CFrame.new(hydrogen.Position + Vector3.new(0, 0, 0))
										break
									end
								end
							end
						end
					end
				end
			end)
		else
			if toggleConnection5 then 
				toggleConnection5:Disconnect()
				toggleConnection5 = nil
			end
		end
	end
})

local toggleConnection6

local Toggle6 = ESPTab:CreateToggle({
	Name = "Voyager ESP",
	CurrentValue = false,
	Flag = "Toggle6",
	Callback = function(Value)
		if Value then
			-- Enable Voyager ESP
			if CoreGui:FindFirstChild("VoyagerESP") then
				CoreGui.VoyagerESP:Destroy()
			end

			local VoyagerEspScreenGui = Instance.new("ScreenGui")
			VoyagerEspScreenGui.Name = "VoyagerESP"
			VoyagerEspScreenGui.Parent = CoreGui
			VoyagerEspScreenGui.ResetOnSpawn = false
			VoyagerEspScreenGui.ScreenInsets = Enum.ScreenInsets.None

			local voyager = Workspace:WaitForChild("Planetoids"):WaitForChild("Voyager")
			local targetPart = voyager:WaitForChild("Skin")

			-- Billboard
			local billboard = Instance.new("BillboardGui")
			billboard.Name = "VoyagerBillboard"
			billboard.Adornee = voyager.PrimaryPart or voyager:FindFirstChildWhichIsA("BasePart")
			billboard.Size = UDim2.new(0, 50, 0, 60)
			billboard.AlwaysOnTop = true
			billboard.Parent = voyager
			billboard.MaxDistance = math.huge

			local textLabel = Instance.new("TextLabel")
			textLabel.AnchorPoint = Vector2.new(0.5,0.5)
			textLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
			textLabel.Name = "Voyager"
			textLabel.Size = UDim2.new(0.7, 0, 0.7, 0)
			textLabel.BackgroundTransparency = 1
			textLabel.Text = "Voyager"
			textLabel.TextScaled = true
			textLabel.Font = Enum.Font.FredokaOne
			textLabel.TextColor3 = Color3.fromRGB(170, 255, 255)
			textLabel.Parent = billboard

			local OFFSET_Y = 40
			local LINE_COLOR = Color3.fromRGB(170, 255, 255)
			local LINE_THICKNESS = 1.8

			-- Create line Frame
			local line = Instance.new("Frame")
			line.Size = UDim2.fromOffset(10, LINE_THICKNESS)
			line.AnchorPoint = Vector2.new(0.5, 0.5)
			line.BackgroundColor3 = LINE_COLOR
			line.BorderSizePixel = 0
			line.Visible = true
			line.Parent = VoyagerEspScreenGui

			-- Update line every frame
			toggleConnection6 = RunService.RenderStepped:Connect(function()
				if targetPart and targetPart.Parent then
					local screenPos, onScreen = workspace.CurrentCamera:WorldToViewportPoint(targetPart.Position)
					local srcX = workspace.CurrentCamera.ViewportSize.X / 2
					local srcY = OFFSET_Y

					if onScreen and screenPos.Z > 0 then
						local dx = screenPos.X - srcX
						local dy = screenPos.Y - srcY
						local distance = math.sqrt(dx*dx + dy*dy)
						local midX = (screenPos.X + srcX) / 2
						local midY = (screenPos.Y + srcY) / 2
						line.Position = UDim2.fromOffset(midX, midY)
						line.Size = UDim2.fromOffset(distance, LINE_THICKNESS)
						line.Rotation = math.deg(math.atan2(dy, dx))
						line.Visible = true
						billboard.Enabled = true
					else
						line.Visible = false
						billboard.Enabled = false
					end
				else
					line.Visible = false
					billboard.Enabled = false
				end
			end)

		else
			-- Disable Voyager ESP
			if toggleConnection6 then
				toggleConnection6:Disconnect()
				toggleConnection6 = nil
			end
			local exists = game.Workspace.Planetoids.Voyager:FindFirstChild("VoyagerBillboard")
			if exists then
				exists:remove()
			end

			if CoreGui:FindFirstChild("VoyagerESP") then
				CoreGui.VoyagerESP:Destroy()
			end
		end
	end
})

local toggleConnection7

local Toggle7 = ESPTab:CreateToggle({
	Name = "Alien UFO ESP",
	CurrentValue = false,
	Flag = "Toggle7",
	Callback = function(Value)
		if Value then
		end
		end
})


-------------------------------------------------------------------------------------------------------------------------------------------------------------

--Other Teleports




local Label = OtherTpTab:CreateLabel("Earth Teleport ( Require Shuttle )", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

--Earth Functions And Button Toggle

local teleporting = false
local teleportCoroutine

local function startTeleportLoop()
	if teleporting then return end
	teleporting = true

	teleportCoroutine = coroutine.create(function()
		local Players = game:GetService("Players")
		local player = Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local humanoid = character:WaitForChild("Humanoid")
		local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

		local targetPos = Vector3.new(-3300, 31, -1407)
		local searchRadius = 20

		local function findNearbySeat()
			for _, part in pairs(workspace:GetDescendants()) do
				if (part:IsA("Seat") or part:IsA("VehicleSeat")) and part:IsA("BasePart") then
					if (part.Position - targetPos).Magnitude <= searchRadius then
						return part
					end
				end
			end
			return nil
		end

		local targetSeat = findNearbySeat()

		if not targetSeat then
			warn("No seat found within 20 studs of target position!")
			teleporting = false
			-- Toggle OFF automatically
			OtherTpTab.Flags["Toggle1"] = false
			return
		end

		print("Found seat:", targetSeat:GetFullName())

		while teleporting do
			if not humanoid.Sit then
				-- Teleport player above seat until seated
				humanoidRootPart.CFrame = targetSeat.CFrame + Vector3.new(0, 2, 0)
			else
				print("Player is seated! Auto turning off.")
				teleporting = false
				-- Toggle OFF automatically
				OtherTpTab.Flags["Toggle1"] = false
				break
			end
			task.wait(0.3)
		end

		print("Teleport loop ended.")
	end)

	coroutine.resume(teleportCoroutine)
end

local function stopTeleportLoop()
	if teleporting then
		teleporting = false
		print("Teleport loop stopped manually.")
	end
end

local Toggle = OtherTpTab:CreateToggle({
	Name = "Earth Teleport",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		if Value then
			startTeleportLoop()
		else
			stopTeleportLoop()
		end
	end
})

--Artifacts Teleport

local Label = OtherTpTab:CreateLabel("Artifacts", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

-- Outside the button
local artifactMemory = {}
local allArtifacts = {}

local function refreshArtifacts()
	allArtifacts = {}
	local planets = workspace:FindFirstChild("Planets")
	if planets then
		for _, model in ipairs(planets:GetChildren()) do
			local artifacts = model:FindFirstChild("Artifacts")
			if artifacts then
				for _, part in ipairs(artifacts:GetDescendants()) do
					if part:IsA("BasePart") then
						table.insert(allArtifacts, part)
					end
				end
			end
		end
	end
end

local Button = OtherTpTab:CreateButton({
	Name = "Artifact Teleport",
	Callback = function()
		local player = game.Players.LocalPlayer
		local char = player.Character
		local hrp = char and char:FindFirstChild("HumanoidRootPart")
		if not hrp then return end

		if #allArtifacts == 0 then
			refreshArtifacts()
		end

		-- Filter unvisited and within 150 studs
		local available = {}
		for _, artifact in ipairs(allArtifacts) do
			if not table.find(artifactMemory, artifact) then
				local distance = (hrp.Position - artifact.Position).Magnitude
				if distance <= 150 then
					table.insert(available, artifact)
				end
			end
		end

		if #available == 0 then
			artifactMemory = {} -- Reset memory
			refreshArtifacts()  -- Optionally refresh artifacts again
			return
		end

		local chosen = available[math.random(1, #available)]
		table.insert(artifactMemory, chosen)

		-- Teleport player right next to the artifact
		local targetPos = chosen.Position + Vector3.new(0, 3, 0) -- Slightly above
		hrp.CFrame = CFrame.new(targetPos)
	end,
})

local Label = OtherTpTab:CreateLabel("Caves ( You Must Inside That Planet To Teleport )", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local isInsideMakeMake = false  -- Track toggle state
local Button2  -- declare it first

Button2 = OtherTpTab:CreateButton({
	Name = "Teleport Inside MakeMake Cave",
	Callback = function()
		local player = game.Players.LocalPlayer
		local char = player.Character
		local hrp = char and char:FindFirstChild("HumanoidRootPart")
		if not hrp then return end

		local center = workspace:WaitForChild("Planets"):WaitForChild("Makemake"):WaitForChild("Center")
		if not center or not center:IsA("BasePart") then return end

		if not isInsideMakeMake then
			-- Teleport under Center
			hrp.CFrame = center.CFrame * CFrame.new(0, -10, 0)
			isInsideMakeMake = true
			Button2:Set("Teleport Outside MakeMake Cave")
		else
			-- Teleport above Center
			hrp.CFrame = center.CFrame * CFrame.new(0, 35, 0)
			isInsideMakeMake = false
			Button2:Set("Teleport Inside MakeMake Cave")
		end
	end,
})

local isInsideSedna = false  -- Toggle state
local Button3  -- Declare first

Button3 = OtherTpTab:CreateButton({
	Name = "Teleport Inside Sedna Cave",
	Callback = function()
		local player = game.Players.LocalPlayer
		local char = player.Character
		local hrp = char and char:FindFirstChild("HumanoidRootPart")
		if not hrp then return end

		local center = workspace:WaitForChild("Planets"):WaitForChild("Sedna"):WaitForChild("Center")
		if not center or not center:IsA("BasePart") then return end

		if not isInsideSedna then
			-- Teleport under cave
			hrp.CFrame = center.CFrame * CFrame.new(0, -10, 0)
			isInsideSedna = true
			Button3:Set("Teleport Outside Sedna Cave")
		else
			-- Teleport above cave
			hrp.CFrame = center.CFrame * CFrame.new(0, 35, 0)
			isInsideSedna = false
			Button3:Set("Teleport Inside Sedna Cave")
		end
	end,
})

local Label = OtherTpTab:CreateLabel("Teleport To Orb ( You Must Inside Planet )", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local Button = OtherTpTab:CreateButton({
	Name = "Teleport to First Nearby Orb",
	Callback = function()
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")

		local planetsFolder = workspace:FindFirstChild("Planets")
		if not planetsFolder then return end

		for _, planetModel in pairs(planetsFolder:GetChildren()) do
			if planetModel:IsA("Model") then
				local minerals = planetModel:FindFirstChild("Minerals")
				if minerals then
					local orbName = planetModel.Name .. " Orb"
					local orbPart = minerals:FindFirstChild(orbName)

					if orbPart and orbPart:IsA("BasePart") then
						local distance = (hrp.Position - orbPart.Position).Magnitude
						if distance <= 200 then
							-- Teleport the player to orb (slightly above)
							hrp.CFrame = orbPart.CFrame + Vector3.new(0, 0, 0)
							return
						end
					end
				end
			end
		end
	end,
})

------------------------------------------------------------------------------------------------------------------------------------

local Label = PlanetTpTab:CreateLabel("Bring Ships ( You Must Own The Ship )", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme

local Button = PlanetTpTab:CreateButton({
	Name = "Bring Orbiter",
	Callback = function()
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")

		-- Step 1: Initial teleport
		hrp.CFrame = CFrame.new(-3095, 15, -1371)

		-- Step 2: Delay and fire nearby prompts
		task.delay(0.2, function()
			for _, descendant in pairs(workspace:GetDescendants()) do
				if descendant:IsA("ProximityPrompt") then
					local distance = (descendant.Parent.Position - hrp.Position).Magnitude
					if distance <= 20 then
						pcall(function()
							fireproximityprompt(descendant)
						end)
					end
				end
			end

			-- Step 3: Another delay and teleport to one of three random positions
			task.delay(0.2, function()
				local positions = {
					Vector3.new(-3085, 34, -1390),
					Vector3.new(-3081, 34, -1371),
					Vector3.new(-3081, 34, -1353),
				}
				local randomPos = positions[math.random(1, #positions)]
				hrp.CFrame = CFrame.new(randomPos)
			end)
		end)
	end,
})

local Button = PlanetTpTab:CreateButton({
	Name = "Bring Corvette",
	Callback = function()
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")
		local humanoid = character:WaitForChild("Humanoid")

		-- Step 1: Initial teleport
		hrp.CFrame = CFrame.new(-3197, 12, -1476)

		-- Step 2: Fire all valid ProximityPrompts within 8 studs
		task.delay(0.2, function()
			local function searchAndFire(container)
				for _, descendant in pairs(container:GetDescendants()) do
					if descendant:IsA("ProximityPrompt") and descendant.Name == "PPrompt" then
						local parent = descendant.Parent
						if parent and parent:IsA("BasePart") and parent.Name == "ButtonSpawn" then
							local color = parent.Color
							local distance = (parent.Position - hrp.Position).Magnitude
							if color:ToHex() == Color3.fromRGB(13, 105, 172):ToHex() and distance <= 8 then
								pcall(function()
									fireproximityprompt(descendant)
								end)
							end
						end
					end
				end
			end

			searchAndFire(workspace)
			searchAndFire(game.ReplicatedStorage)

			-- Step 3: Loop teleport to random positions until sitting
			task.delay(0.2, function()
				local positions = {
					Vector3.new(-3197, 19, -1487),
					Vector3.new(-3197, 19, -1487),
					Vector3.new(-3197, 19, -1487),
				}

				local loopTeleport
				loopTeleport = game:GetService("RunService").Heartbeat:Connect(function()
					if humanoid.SeatPart == nil then
						local randomPos = positions[math.random(1, #positions)]
						hrp.CFrame = CFrame.new(randomPos)
					else
						-- Stop the loop when player sits
						loopTeleport:Disconnect()
					end
				end)
			end)
		end)
	end,
})

-------------------------------------------------------------------------------------------------------------------------------------------------------------

local TrollTab = Window:CreateTab("Troll", 4483362458) -- Title, Image

local Label = TrollTab:CreateLabel("We are working on this D:", 4483362458, Color3.fromRGB(255, 205, 220), false) -- Title, Icon, Color, IgnoreTheme
